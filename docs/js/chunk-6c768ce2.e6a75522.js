(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c768ce2"],{"09dd":function(e,t,a){},1826:function(e,t,a){},"1be3":function(e,t,a){},"214d":function(e,t,a){},2975:function(e,t,a){"use strict";a("5184")},"394a":function(e,t,a){"use strict";a("efe4")},"48d4":function(e,t,a){"use strict";var o=a("7a23");const l=Object(o["withScopeId"])("data-v-5712fd93"),r=l((e,t,a,l,r,n)=>(Object(o["openBlock"])(),Object(o["createBlock"])("button",{type:"button",disabled:e.disabled,title:e.title,class:["button-basic",e.color&&"button-basic--color-"+e.color],onClick:t[1]||(t[1]=t=>e.$emit("click"))},[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)],10,["disabled","title"])));var n=Object(o["defineComponent"])({name:"ButtonBasic",props:{type:String,title:String,color:String,disabled:Boolean},emits:{click:null}});a("c038");n.render=r,n.__scopeId="data-v-5712fd93";t["a"]=n},5184:function(e,t,a){},5705:function(e,t,a){"use strict";a("214d")},"57c1":function(e,t,a){},"5aff":function(e,t,a){"use strict";a.r(t);var o=a("7a23");const l=Object(o["withScopeId"])("data-v-8ae214de");Object(o["pushScopeId"])("data-v-8ae214de");const r=Object(o["createVNode"])("legend",null,"Data fields",-1),n={class:"fields"},c={class:"field-basic"},i={class:"field-title"},d={for:"pref_slides"},s={class:"field-description"},p={class:"field-basic__body"},u={class:"field-basic"},b={class:"field-title"},f={for:"apiAddress"},m={class:"field-description"},O={class:"field-multiple"},j={class:"field-multiple__body"},h={class:"field-description"},g={class:"field-upload"},S={class:"field-description"};Object(o["popScopeId"])();const v=l((e,t,a,v,y,V)=>{const N=Object(o["resolveComponent"])("FormText"),x=Object(o["resolveComponent"])("ButtonBasic"),w=Object(o["resolveComponent"])("FormUpload");return Object(o["openBlock"])(),Object(o["createBlock"])("fieldset",null,[r,Object(o["createVNode"])("div",n,[Object(o["createVNode"])("div",c,[Object(o["createVNode"])("h3",i,[Object(o["createVNode"])("label",d,Object(o["toDisplayString"])(e.$t("preference.data.slides.title")),1)]),Object(o["createVNode"])("p",s,Object(o["toDisplayString"])(e.$t("preference.data.slides.description")),1),Object(o["createVNode"])("div",p,[Object(o["createVNode"])(N,{ref:"textSlides",type:"textarea",name:"pref_slides",id:"pref_slides",placeholder:"Please input slides code",color:e.state.slidesColor,rows:10,modelValue:e.state.slides,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.state.slides=t),e.onUpdateSlideSource]},null,8,["color","modelValue","onUpdate:modelValue"])])]),Object(o["createVNode"])("div",u,[Object(o["createVNode"])("h3",b,[Object(o["createVNode"])("label",f,Object(o["toDisplayString"])(e.$t("preference.data.importSlidesData.title")),1)]),Object(o["createVNode"])("p",m,Object(o["toDisplayString"])(e.$t("preference.data.importSlidesData.description")),1),Object(o["createVNode"])("div",O,[Object(o["createVNode"])("div",j,[Object(o["createVNode"])(N,{ref:"textApiAddress",type:"text",name:"apiAddress",id:"apiAddress",disabled:e.localState.apiAddressDisableButton,modelValue:e.localState.apiAddress,"onUpdate:modelValue":t[2]||(t[2]=t=>e.localState.apiAddress=t),placeholder:"https://service.com/filename.json",onKeydown:Object(o["withKeys"])(e.importDataOnAddress,["enter"])},null,8,["disabled","modelValue","onKeydown"])]),Object(o["createVNode"])("div",null,[Object(o["createVNode"])(x,{color:"key",disabled:e.localState.apiAddressDisableButton,onClick:e.importDataOnAddress},{default:l(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("preference.data.importSlidesData.label_getData")),1)]),_:1},8,["disabled","onClick"])])]),Object(o["createVNode"])("p",h,Object(o["toDisplayString"])(e.$t("preference.data.importSlidesData.desc_apiAddress")),1),Object(o["createVNode"])("div",g,[Object(o["createVNode"])(w,{ref:"fileUpload",accept:"application/json",title:e.$t("preference.data.importSlidesData.uploadFile"),onChange:e.importDataOnFile},null,8,["title","onChange"])]),Object(o["createVNode"])("p",S,Object(o["toDisplayString"])(e.$t("preference.data.importSlidesData.desc_file")),1)])])])});var y=a("0251"),V=a("1717"),N=a("7aa5"),x=a("92dd");const w=Object(o["withScopeId"])("data-v-5e937564");Object(o["pushScopeId"])("data-v-5e937564");const B={class:"form-upload__body"};Object(o["popScopeId"])();const D=w((e,t,a,l,r,n)=>{const c=Object(o["resolveComponent"])("Icon");return Object(o["openBlock"])(),Object(o["createBlock"])("label",{class:["form","form-upload",e.disabled&&"form-upload--disabled"]},[e.state.input?(Object(o["openBlock"])(),Object(o["createBlock"])("input",{key:0,type:"file",class:"form-upload__input",accept:e.accept,disabled:e.disabled,onChange:t[1]||(t[1]=(...t)=>e.onChange&&e.onChange(...t))},null,40,["accept","disabled"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("span",B,[Object(o["createVNode"])(c,{"icon-name":"file"}),Object(o["createVNode"])("em",null,Object(o["toDisplayString"])(e.label),1),Object(o["createVNode"])("i",null,[Object(o["createVNode"])(c,{"icon-name":"upload"})])])],2)});var C=a("c276"),k=a("d010"),A=Object(o["defineComponent"])({name:"FormUpload",components:{Icon:k["a"]},props:{name:String,id:String,label:{type:String,default:"Please upload file"},disabled:Boolean,accept:String},setup(e,t){let a=Object(o["reactive"])({input:!0});function l(e){t.emit("change",e.target.files),r().then()}async function r(){a.input=!1,await C["e"](50),a.input=!0}return{state:a,onChange:l}},emits:{change:null}});a("394a"),a("5705");A.render=D,A.__scopeId="data-v-5e937564";var _=A,I=a("48d4"),F=Object(o["defineComponent"])({name:"PreferenceData",components:{FormText:x["a"],FormUpload:_,ButtonBasic:I["a"]},props:{structure:Object},setup(e,t){const{t:a}=Object(y["useI18n"])({useScope:"global"});let l=Object(o["reactive"])({apiAddress:"https://raw.githubusercontent.com/redgoose-dev/slideshow/main/src/example.json",apiAddressDisableButton:!1,slidesColor:void 0}),r=Object(o["reactive"])({slides:e.structure.slides});const n=Object(o["ref"])(null),c=Object(o["ref"])(null),i=Object(o["ref"])(null);let d=void 0;function s(){const e=V["c"](r);t.emit("update",e)}function p(e){function t(){alert(a("preference.data.alerts.failedGetData")),l.apiAddressDisableButton=!1,Object(o["nextTick"])().then(()=>c.value.focus())}e&&e.preventDefault();try{if(l.apiAddressDisableButton=!0,!l.apiAddress)throw new Error("no address");if(!N["b"](l.apiAddress))throw new Error("wrong url");const a=new XMLHttpRequest;if(!a)throw new Error("no XMLHttpRequest");a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE)try{if(200!==a.status)throw new Error("failed request url");JSON.parse(a.responseText),r.slides=a.responseText,f(),s(),l.apiAddressDisableButton=!1,n.value.focus()}catch(e){t()}},a.open("get",l.apiAddress),a.send()}catch(e){t()}}function u(e){if(!e||!e.length)return void alert(a("preference.data.alerts.noSelectedFile"));const t=e[0],o=new FileReader;o.onload=e=>{try{let t=JSON.parse(String(e.target.result));r.slides=JSON.stringify(t,null,2),f(),n.value.focus()}catch(e){alert(a("preference.data.alerts.failedGetFile"))}},o.readAsText(t)}function b(){d&&clearTimeout(d),s(),d=setTimeout(f,1e3)}function f(){try{let e=JSON.parse(r.slides);if(!V["b"](e))throw new Error("error parse");r.slidesColor=void 0}catch(e){r.slidesColor="error"}}return{state:r,localState:l,textSlides:n,textApiAddress:c,fileUpload:i,onSave:s,importDataOnAddress:p,importDataOnFile:u,onUpdateSlideSource:b}},emits:{update:null}});a("e6a4"),a("ebf2");F.render=v,F.__scopeId="data-v-8ae214de";t["default"]=F},"7aa5":function(e,t,a){"use strict";function o(e){return("0"+e).slice(-2)}function l(e){let t;try{t=new URL(e)}catch(a){return!1}return"http:"===t.protocol||"https:"===t.protocol}a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}))},"92dd":function(e,t,a){"use strict";var o=a("7a23");const l=Object(o["withScopeId"])("data-v-237eca52"),r=l((e,t,a,l,r,n)=>"textarea"===e.type?(Object(o["openBlock"])(),Object(o["createBlock"])("textarea",{key:0,ref:"root",type:e.type,name:e.name,id:e.id,value:e.modelValue,placeholder:e.placeholder,required:e.required,min:e.min,max:e.max,step:e.step,maxlength:e.maxlength,rows:e.rows,size:e.size,class:["form","form-text",e.inline&&"form-text--inline",e.color&&"form-text--color-"+e.color],onInput:t[1]||(t[1]=(...t)=>e.onChange&&e.onChange(...t)),onBlur:t[2]||(t[2]=t=>e.$emit("blur:modelValue",t.target.value))},null,42,["type","name","id","value","placeholder","required","min","max","step","maxlength","rows","size"])):(Object(o["openBlock"])(),Object(o["createBlock"])("input",{key:1,ref:"root",type:e.type,name:e.name,id:e.id,value:e.modelValue,placeholder:e.placeholder,required:e.required,min:e.min,max:e.max,step:e.step,maxlength:e.maxlength,size:e.size,class:["form","form-text",e.inline&&"form-text--inline",e.color&&"form-text--color-"+e.color],onInput:t[3]||(t[3]=(...t)=>e.onChange&&e.onChange(...t)),onBlur:t[4]||(t[4]=t=>e.$emit("blur:modelValue",t.target.value))},null,42,["type","name","id","value","placeholder","required","min","max","step","maxlength","size"])));var n=a("c276"),c=Object(o["defineComponent"])({name:"FormText",props:{type:{type:String,default:"text"},name:String,id:String,placeholder:String,required:Boolean,min:Number,max:Number,step:Number,maxlength:Number,inline:Boolean,rows:{type:Number,default:3},size:{type:Number,default:10},color:String,modelType:String,modelValue:[String,Number,Boolean,Array]},setup(e,t){const a=Object(o["ref"])(0);function l(a){t.emit("update:modelValue",n["b"](e.modelType,a.target.value))}function r(){a.value&&a.value.focus()}return{root:a,onChange:l,focus:r}},emits:{"update:modelValue":null,"blur:modelValue":null}});a("2975"),a("aca9");c.render=r,c.__scopeId="data-v-237eca52";t["a"]=c},aca9:function(e,t,a){"use strict";a("1be3")},c038:function(e,t,a){"use strict";a("09dd")},e6a4:function(e,t,a){"use strict";a("57c1")},ebf2:function(e,t,a){"use strict";a("1826")},efe4:function(e,t,a){}}]);