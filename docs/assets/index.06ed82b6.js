var de=Object.defineProperty,re=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var ee=(a,n,l)=>n in a?de(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,J=(a,n)=>{for(var l in n||(n={}))ce.call(n,l)&&ee(a,l,n[l]);if(Y)for(var l of Y(n))ue.call(n,l)&&ee(a,l,n[l]);return a},W=(a,n)=>re(a,ne(n));import{I as V,_ as G,i as B,c as A,a as _e,b as pe,d as oe}from"./index.2b5e35b2.js";import{B as j,v as te,o as se}from"./Basic.76b379bd.js";import{F as D}from"./Text.1ee757f1.js";import{F as H}from"./Radio.c7d30d34.js";import{C as fe,D as me,o as f,b as $,k as p,h as t,t as d,u as e,B as be,r as K,F as le,j as ae,n as q,i as w,z as I,A as N,p as R,m as z,g as O,a as he,e as M,T as ie}from"./vendor.95a30472.js";const ye=fe({name:"PreferenceDataButtonIcon",components:{Icon:V},props:{iconName:String,title:String}}),ve=["title"];function ge(a,n,l,o,s,c){const m=me("Icon");return f(),$("button",{type:"button",title:a.title,class:"button-icon"},[p(m,{"icon-name":a.iconName},null,8,["icon-name"])],8,ve)}var $e=G(ye,[["render",ge],["__scopeId","data-v-a2f92058"]]);const ke={class:"modal-wrapper__header"},Se=["title"],we={class:"modal-wrapper__body"},Ue={props:{title:{type:String,default:"Title"}},emits:{close:null},setup(a,{emit:n}){const{t:l}=B.global;return(o,s)=>(f(),$("article",{class:"modal-wrapper",onClick:s[2]||(s[2]=c=>o.$emit("close"))},[t("div",{class:"modal-wrapper__box",onClick:s[1]||(s[1]=c=>{c.stopPropagation()})},[t("header",ke,[t("h2",null,d(a.title),1),t("nav",null,[t("button",{type:"button",title:e(l)("base.close"),onClick:s[0]||(s[0]=c=>o.$emit("close"))},[p(V,{"icon-name":"x"})],8,Se)])]),t("div",we,[be(o.$slots,"default",{},void 0,!0)])])]))}};var Z=G(Ue,[["__scopeId","data-v-3cc68afe"]]);const xe=["data-key"],Ce=["data-key"],Ve={class:"data-slide__handle"},Te={class:"data-slide__body"},De={key:0},Ie=["href"],Ke=["href"],Ge={class:"data-slide__nav"},Me=["title","onClick"],Ee=["title","onClick"],Fe={key:0,class:"data-slides__empty"},Ae={props:{itemKey:String,items:{type:Array,required:!0}},emits:["change-order","edit","remove"],setup(a,{emit:n}){const l=a,{t:o}=B.global;let s=K({dragStartKey:void 0,dragPlaceholderKey:void 0}),c,m;function g(y){return y.dataset.key?y:y.closest("li")}function b(y){c=y.target}function r(y){if(!c.closest(".data-slide__handle > i")){y.preventDefault();return}c=g(y.target),m=c.parentNode.children,s.dragStartKey=Number(c.dataset.key);for(let x=0;x<m.length;x++)m[x].addEventListener("dragover",v),m[x].addEventListener("drop",h),m[x].addEventListener("dragend",k)}function v(y){y.preventDefault&&y.preventDefault(),y.dataTransfer.dropEffect="move";let x=g(y.target);s.dragPlaceholderKey=Number(x.dataset.key)}function h(y){let x=g(y.target);if(s.dragStartKey===s.dragPlaceholderKey)return;let U=A(l.items);U.splice(s.dragStartKey,1),U.splice(Number(x.dataset.key),0,A(l.items[s.dragStartKey])),n("change-order",U)}function k(){if(!!(c&&m)){for(let y=0;y<m.length;y++)m[y].removeEventListener("dragover",v),m[y].removeEventListener("drop",h),m[y].removeEventListener("dragend",k);c=void 0,m=void 0,s.dragStartKey=void 0,s.dragPlaceholderKey=void 0}}return(y,x)=>(f(),$("ul",{"data-key":a.itemKey,class:"data-slides"},[(f(!0),$(le,null,ae(a.items,(U,E)=>(f(),$("li",{"data-key":E,draggable:!0,class:q(["data-slide",e(s).dragStartKey===E&&"data-slide--start",e(s).dragStartKey!==e(s).dragPlaceholderKey&&e(s).dragPlaceholderKey===E&&"data-slide--placeholder"]),onMousedown:b,onDragstart:r},[t("div",Ve,[t("i",null,[p(V,{"icon-name":"menu-flat"})])]),t("div",Te,[t("h4",{class:q(U.title?"":"none")},d(U.title||"None"),3),U.description?(f(),$("p",De,d(U.description),1)):w("",!0),t("nav",null,[t("a",{href:U.src,target:"_blank"},d(e(o)("base.image")),9,Ie),U.thumbnail?(f(),$("a",{key:0,href:U.thumbnail,target:"_blank"},d(e(o)("base.thumbnail")),9,Ke)):w("",!0)])]),t("nav",Ge,[t("button",{type:"button",title:e(o)("base.edit"),class:"edit",onClick:u=>n("edit",E)},[p(V,{"icon-name":"edit"})],8,Me),t("button",{type:"button",title:e(o)("base.remove"),class:"remove",onClick:u=>n("remove",E)},[p(V,{"icon-name":"x"})],8,Ee)])],42,Ce))),256)),a.items&&a.items.length>0?w("",!0):(f(),$("li",Fe,d(e(o)("description.empty")),1))],8,xe))}};var Ne=G(Ae,[["__scopeId","data-v-381e0288"]]);const Be=a=>(R("data-v-05bdea00"),a=a(),z(),a),je=Be(()=>t("legend",null,"Manage slides group fields",-1)),Oe={class:"fields"},Pe={class:"field-basic"},Le={class:"field-title"},qe={for:"pref_key",class:"required"},Re={class:"field-description"},ze={class:"field-basic__body"},Je={class:"field-basic"},We={class:"field-title"},Ze={for:"pref_name"},He={class:"field-description"},Qe={class:"field-basic__body"},Xe={class:"field-basic"},Ye={class:"field-title"},et={for:"pref_description"},tt={class:"field-description"},st={class:"field-basic__body"},ot={class:"field-basic"},lt={class:"field-title"},at={for:"pref_slideType"},it={class:"field-description"},dt={class:"field-basic__body"},rt={key:0,class:"field-basic"},nt={class:"field-title"},ct={for:"pref_slidesUrl"},ut={class:"field-description"},_t={class:"field-basic__body"},pt={class:"submit-buttons"},ft={props:{form:Object},emits:{submit:null},setup(a,{emit:n}){const l=a,{t:o}=B.global;let s=K({form:l.form,error:{key:!1},slides:{type:l.form.slidesType||"array",url:l.form.slidesUrl||""}});function c(g){g||(s.error.key=!0),s.error.key=!/^[a-zA-Z0-9_]+$/.test(g)}function m(g){g.preventDefault();try{if(s.error.key)throw new Error("error value / key");n("submit",s.form)}catch(b){window.dev&&console.error(b.message),alert(o("alert.errorSubmit"))}}return(g,b)=>(f(),$("form",{onSubmit:m},[t("fieldset",null,[je,t("div",Oe,[t("div",Pe,[t("h3",Le,[t("label",qe,d(e(o)("base.groupKey")),1)]),t("p",Re,d(e(o)("description.inputKeyOnGroup")),1),t("div",ze,[p(D,{name:"pref_key",id:"pref_key",placeholder:e(o)("base.inputKey"),inline:!0,required:!0,size:24,maxlength:20,color:e(s).error.key?"error":"",modelValue:e(s).form.key,"onUpdate:modelValue":[b[0]||(b[0]=r=>e(s).form.key=r),c]},null,8,["placeholder","color","modelValue"])])]),t("div",Je,[t("h3",We,[t("label",Ze,d(e(o)("base.name")),1)]),t("p",He,d(e(o)("description.setCategoryName")),1),t("div",Qe,[p(D,{name:"pref_name",id:"pref_name",placeholder:e(o)("base.inputText"),maxlength:32,modelValue:e(s).form.name,"onUpdate:modelValue":b[1]||(b[1]=r=>e(s).form.name=r)},null,8,["placeholder","modelValue"])])])]),t("div",Xe,[t("h3",Ye,[t("label",et,d(e(o)("base.description")),1)]),t("p",tt,d(e(o)("description.setCategoryDescription")),1),t("div",st,[p(D,{name:"pref_description",id:"pref_description",placeholder:e(o)("base.inputText"),maxlength:80,modelValue:e(s).form.description,"onUpdate:modelValue":b[2]||(b[2]=r=>e(s).form.description=r)},null,8,["placeholder","modelValue"])])]),t("div",ot,[t("h3",lt,[t("label",at,d(e(o)("title.selectSlidesType")),1)]),t("p",it,d(e(o)("description.selectSlidesType"))+" "+d(a.form.type==="edit"?e(o)("description.selectSlidesType2"):""),1),t("div",dt,[p(H,{type:"button",name:"pref_slideType",id:"prof_slideType",title:e(o)("title.selectSlidesType"),items:[{key:"array",label:e(o)("base.array")},{key:"url",label:`URL ${e(o)("base.address")}`}],modelValue:e(s).form.slidesType,"onUpdate:modelValue":b[3]||(b[3]=r=>e(s).form.slidesType=r)},null,8,["title","items","modelValue"])])]),e(s).form.slidesType==="url"?(f(),$("div",rt,[t("h3",nt,[t("label",ct,d(e(o)("title.slidesUrlAddress")),1)]),t("p",ut,d(e(o)("description.inputSlidesUrl")),1),t("div",_t,[p(D,{name:"pref_slidesUrl",id:"pref_slidesUrl",placeholder:e(o)("base.inputUrl"),required:!0,modelValue:e(s).form.slidesUrl,"onUpdate:modelValue":b[4]||(b[4]=r=>e(s).form.slidesUrl=r)},null,8,["placeholder","modelValue"])])])):w("",!0),t("nav",pt,[t("div",null,[p(j,{type:"submit",color:"key",inline:!0},{default:I(()=>[N(d(a.form.type==="add"?e(o)("label.addGroup"):e(o)("label.editGroup")),1)]),_:1})])])])],32))}};var mt=G(ft,[["__scopeId","data-v-05bdea00"]]);const bt=a=>(R("data-v-4358e8f6"),a=a(),z(),a),ht=bt(()=>t("legend",null,"Manage slide fields",-1)),yt={class:"fields"},vt={class:"field-basic"},gt={class:"field-title"},$t={for:"pref_src",class:"required"},kt={class:"field-description"},St={class:"field-multiple"},wt={class:"field-multiple__body"},Ut={class:"field-basic"},xt={class:"field-title"},Ct={for:"pref_thumbnail"},Vt={class:"field-description"},Tt={class:"field-multiple"},Dt={class:"field-multiple__body"},It={class:"field-basic"},Kt={class:"field-title"},Gt={for:"pref_title"},Mt={class:"field-description"},Et={class:"field-basic__body"},Ft={class:"field-basic"},At={class:"field-title"},Nt={for:"pref_description"},Bt={class:"field-description"},jt={class:"field-basic__body"},Ot={class:"submit-buttons"},Pt={props:{form:Object},emits:{submit:null},setup(a,{emit:n}){const l=a,{t:o}=B.global;let s=K({form:l.form});const c=O(null),m=O(null);function g(r){if(te(s.form[r]))window.open(s.form[r]);else switch(alert(o("alert.invalidAddress")),r){case"src":c.value.focus();break;case"thumbnail":m.value.focus();break}}function b(r){r.preventDefault();try{if(!(s.form.src&&te(s.form.src)))throw c.value.focus(),new Error("no image src address");n("submit",s.form)}catch(v){window.dev&&console.error(v.message),alert(o("alert.errorSubmit"))}}return(r,v)=>(f(),$("form",{onSubmit:b},[t("fieldset",null,[ht,t("div",yt,[t("div",vt,[t("h3",gt,[t("label",$t,d(e(o)("base.imageUrl")),1)]),t("p",kt,d(e(o)("description.inputImageUrl")),1),t("div",St,[t("div",wt,[p(D,{ref_key:"src",ref:c,name:"pref_src",id:"pref_src",placeholder:e(o)("base.inputUrl"),required:!1,modelValue:e(s).form.src,"onUpdate:modelValue":v[0]||(v[0]=h=>e(s).form.src=h)},null,8,["placeholder","modelValue"])]),t("nav",null,[p(j,{type:"button",onClick:v[1]||(v[1]=h=>g("src"))},{default:I(()=>[N(d(e(o)("base.openUrl")),1)]),_:1})])])]),t("div",Ut,[t("h3",xt,[t("label",Ct,d(e(o)("base.urlThumbnailUrl")),1)]),t("p",Vt,d(e(o)("description.inputThumbnailUrl")),1),t("div",Tt,[t("div",Dt,[p(D,{ref_key:"thumbnail",ref:m,name:"pref_thumbnail",id:"pref_thumbnail",placeholder:e(o)("base.inputUrl"),modelValue:e(s).form.thumbnail,"onUpdate:modelValue":v[2]||(v[2]=h=>e(s).form.thumbnail=h)},null,8,["placeholder","modelValue"])]),t("nav",null,[p(j,{type:"button",onClick:v[3]||(v[3]=h=>g("thumbnail"))},{default:I(()=>[N(d(e(o)("base.openUrl")),1)]),_:1})])])]),t("div",It,[t("h3",Kt,[t("label",Gt,d(e(o)("base.subject")),1)]),t("p",Mt,d(e(o)("description.inputSlideTitle")),1),t("div",Et,[p(D,{name:"pref_title",id:"pref_title",placeholder:e(o)("base.inputText"),modelValue:e(s).form.title,"onUpdate:modelValue":v[4]||(v[4]=h=>e(s).form.title=h)},null,8,["placeholder","modelValue"])])]),t("div",Ft,[t("h3",At,[t("label",Nt,d(e(o)("base.description")),1)]),t("p",Bt,d(e(o)("description.inputDescriptionSlide")),1),t("div",jt,[p(D,{name:"pref_description",id:"pref_description",placeholder:e(o)("base.inputText"),modelValue:e(s).form.description,"onUpdate:modelValue":v[5]||(v[5]=h=>e(s).form.description=h)},null,8,["placeholder","modelValue"])])])]),t("nav",Ot,[t("div",null,[p(j,{type:"submit",color:"key",inline:!0},{default:I(()=>[N(d(a.form.type==="add"?e(o)("base.add"):e(o)("base.submitEdit")),1)]),_:1})])])])],32))}};var Lt=G(Pt,[["__scopeId","data-v-4358e8f6"]]);const qt={class:"manage-tree"},Rt={class:"tree-item"},zt={class:"tree-item__header"},Jt=["title","disabled","onClick"],Wt={key:0},Zt={key:0},Ht=["title","onClick"],Qt=["title","onClick"],Xt=["title","onClick"],Yt={class:"add-tree"},es={props:{tree:{type:Object,required:!0}},emits:{update:null},setup(a,{emit:n}){const l=a,{t:o}=B.global;let s=K({fold:m(),dragPlaceholder:void 0,showManageGroup:!1,showManageSlide:!1,manageFormGroup:void 0,editFormSlide:void 0}),c=K({index:he(()=>Object.keys(l.tree).map(_=>W(J({},l.tree[_]),{fold:Array.isArray(l.tree[_].slides),key:_})))});function m(){let u={};return Object.keys(l.tree).forEach(_=>{u[_]=!1}),u}function g(u,_){let i=A(l.tree);i[u].slides=_,n("update",i)}function b(u,_=void 0){s.fold[u]=_===void 0?!s.fold[u]:_}function r(){s.manageFormGroup={type:"add",key:"",name:"",description:"",slidesType:"array",slidesUrl:""},s.showManageGroup=!0}function v(u){s.manageFormGroup={type:"edit",key:u,originalKey:u,name:l.tree[u].name,description:l.tree[u].description,slidesType:Array.isArray(l.tree[u].slides)?"array":"url",slidesUrl:typeof l.tree[u].slides=="string"?l.tree[u].slides:""},s.showManageGroup=!0}function h(u){if(!confirm(o("confirm.remove")))return;let _=A(l.tree);delete _[u],n("update",_)}function k(u){try{let F=function(X){if(!/^[a-zA-Z0-9_]+$/.test(X))throw new Error("Error key");if(l.tree[X])throw new Error("The value exists.");return _};const{key:_,originalKey:i,type:P,name:S,description:L,slidesUrl:Q}=u;let T,C=A(l.tree);switch(P){case"add":T=F(_),C[T]={name:S,description:L,slides:u.slidesType==="url"?u.slidesUrl:[]};break;case"edit":if(T=i!==_?F(_):_,!T)throw new Error("Not a valid key.");C[T]=W(J({},C[i]),{name:S,description:L}),u.slidesType==="url"?C[T].slides=u.slidesUrl:Array.isArray(C[T].slides)||(C[T].slides=[]),i!==_&&delete C[i];break}n("update",C),s.showManageGroup=!1}catch(_){window.dev&&console.error(_.message),alert(o("alert.errorSubmit"))}}function y(u){s.editFormSlide={type:"add",groupKey:u,src:"",thumbnail:"",title:"",description:""},s.showManageSlide=!0}function x(u,_){const i=l.tree[u].slides[_];s.editFormSlide={type:"edit",groupKey:u,key:_,src:i.src,thumbnail:i.thumbnail,title:i.title,description:i.description},s.showManageSlide=!0}function U(u,_){if(!confirm(o("confirm.remove")))return;let i=A(l.tree);i[u].slides.splice(_,1),n("update",i)}function E(u){const{type:_,groupKey:i,key:P,src:S,thumbnail:L,title:Q,description:T}=u;let C=A(l.tree);try{const F={src:S,thumbnail:L,title:Q,description:T};switch(_){case"add":C[i].slides.push(F);break;case"edit":C[i].slides[P]=F;break}b(i,!0),n("update",C),s.showManageSlide=!1}catch(F){window.dev&&console.error(F.message),alert(o("alert.errorSubmit"))}}return(u,_)=>(f(),$("article",qt,[(f(!0),$(le,null,ae(e(c).index,(i,P)=>(f(),$("section",Rt,[t("header",zt,[t("nav",null,[t("button",{type:"button",title:e(o)("title.fold"),disabled:!i.fold,class:q([i.fold?"fold":"minus",i.fold&&e(s).fold[i.key]&&"fold--on"]),onClick:S=>b(i.key)},[p(V,{"icon-name":i.fold?"arrow-down":"minus"},null,8,["icon-name"])],10,Jt)]),t("h3",null,[t("strong",null,[t("b",null,d(i.key),1),N(" "+d(i.name)+" ",1),i.fold?(f(),$("em",Wt,d(i.slides.length),1)):w("",!0)]),i.description?(f(),$("span",Zt,d(i.description),1)):w("",!0)]),t("nav",null,[i.fold?(f(),$("button",{key:0,type:"button",title:e(o)("label.addSlide"),class:"add",onClick:S=>y(i.key)},[p(V,{"icon-name":"plus"})],8,Ht)):w("",!0),t("button",{type:"button",title:e(o)("label.editGroup"),class:"edit",onClick:S=>v(i.key)},[p(V,{"icon-name":"edit"})],8,Qt),t("button",{type:"button",title:e(o)("label.removeGroup"),class:"remove",onClick:S=>h(i.key)},[p(V,{"icon-name":"x"})],8,Xt)])]),e(s).fold[i.key]&&i.fold?(f(),M(Ne,{key:0,"item-key":i.key,items:i.slides,onChangeOrder:S=>g(i.key,S),onEdit:S=>x(i.key,S),onRemove:S=>U(i.key,S)},null,8,["item-key","items","onChangeOrder","onEdit","onRemove"])):w("",!0)]))),256)),t("nav",Yt,[p(j,{title:e(o)("label.addGroup"),color:"key",onClick:r},{default:I(()=>[N(d(e(o)("label.addGroup")),1)]),_:1},8,["title"])]),(f(),M(ie,{to:"#slideshowModal"},[e(s).showManageGroup?(f(),M(Z,{key:0,title:e(o)(e(s).manageFormGroup.type==="edit"?"label.editGroup":"label.addGroup"),class:"modal-edit-group",onClose:_[0]||(_[0]=i=>e(s).showManageGroup=!1)},{default:I(()=>[p(mt,{form:e(s).manageFormGroup,onSubmit:k},null,8,["form"])]),_:1},8,["title"])):w("",!0),e(s).showManageSlide?(f(),M(Z,{key:1,title:e(o)(e(s).editFormSlide.type==="edit"?"label.editSlide":"label.addSlide"),class:"modal-edit-slide",onClose:_[1]||(_[1]=i=>e(s).showManageSlide=!1)},{default:I(()=>[p(Lt,{form:e(s).editFormSlide,onSubmit:E},null,8,["form"])]),_:1},8,["title"])):w("",!0)]))]))}};var ts=G(es,[["__scopeId","data-v-4598e46c"]]);const ss=["accept","disabled"],os={class:"form-upload__body"},ls={props:{name:String,id:String,label:{type:String,default:"Please upload file"},disabled:Boolean,accept:String},emits:["change"],setup(a,{expose:n,emit:l}){let o=K({filename:""});const s=O(null);function c(g){!(g.target.files&&g.target.files[0])||(o.filename=g.target.files[0].name,l("change",g.target.files))}function m(){s.value.focus()}return n({input:s,focus:m}),(g,b)=>(f(),$("label",{class:q(["form","form-upload",a.disabled&&"form-upload--disabled"])},[t("input",{ref_key:"input",ref:s,type:"file",class:"form-upload__input",accept:a.accept,disabled:a.disabled,onChange:c},null,40,ss),t("span",os,[p(V,{"icon-name":"file"}),t("em",null,d(e(o).filename||a.label),1),t("i",null,[p(V,{"icon-name":"upload"})])])],2))}};var as=G(ls,[["__scopeId","data-v-8d503a1e"]]);const is=a=>(R("data-v-2ffdc537"),a=a(),z(),a),ds=is(()=>t("legend",null,"Import data fields",-1)),rs={class:"fields"},ns={class:"field-basic"},cs={class:"field-basic__body"},us={key:0,class:"field-basic"},_s={class:"field-title"},ps={for:"pref_address"},fs={class:"field-description"},ms={class:"field-basic__body"},bs={key:1,class:"field-basic"},hs={class:"field-title"},ys={for:"pref_address"},vs={class:"field-description"},gs={class:"field-basic__body"},$s={class:"submit-buttons"},ks={emits:{update:null},setup(a,{emit:n}){const{t:l}=B.global;let o=K({mode:"address",address:"https://raw.githubusercontent.com/redgoose-dev/slideshow/main/resource/example/tree.json",file:null,processing:!1});const s=O(null),c=O(null);function m(b){b[0]&&(o.file=b[0])}async function g(b){b.preventDefault(),o.processing=!0;try{let r;switch(o.mode){case"address":if(!o.address)throw s.value.focus(),new Error("no address");r=await pe(o.address);break;case"file":if(!o.file)throw c.value.focus(),new Error("no file");r=await _e(o.file);break;default:throw new Error("no mode")}Array.isArray(r)&&(r={default:{slides:r}}),oe(r),n("update",r),o.processing=!1}catch(r){window.dev&&console.error(r.message),alert(l("alert.failedGetData")),o.processing=!1}}return(b,r)=>(f(),$("form",{class:"import-data",onSubmit:g},[t("fieldset",null,[ds,t("div",rs,[t("div",ns,[t("div",cs,[p(H,{name:"pref_mode",id:"prof_mode",title:e(l)("description.importDataMethod"),items:[{key:"address",label:e(l)("base.address")},{key:"file",label:e(l)("base.file")}],modelValue:e(o).mode,"onUpdate:modelValue":r[0]||(r[0]=v=>e(o).mode=v)},null,8,["title","items","modelValue"])])]),e(o).mode==="address"?(f(),$("div",us,[t("h3",_s,[t("label",ps,d(e(l)("title.importDataByAddress")),1)]),t("p",fs,d(e(l)("description.getDataByRestAPI")),1),t("div",ms,[p(D,{ref_key:"address",ref:s,name:"pref_address",id:"pref_address",placeholder:e(l)("base.inputAddress"),modelValue:e(o).address,"onUpdate:modelValue":r[1]||(r[1]=v=>e(o).address=v)},null,8,["placeholder","modelValue"])])])):w("",!0),e(o).mode==="file"?(f(),$("div",bs,[t("h3",hs,[t("label",ys,d(e(l)("title.importDataByFile")),1)]),t("p",vs,d(e(l)("description.getJsonFile")),1),t("div",gs,[p(as,{ref_key:"file",ref:c,accept:"application/json",label:e(l)("description.selectJsonFile"),onChange:m},null,8,["label"])])])):w("",!0)]),t("nav",$s,[t("div",null,[p(j,{type:"submit",color:e(o).processing?"":"key",disabled:e(o).processing,inline:!0},{default:I(()=>[N(d(e(o).processing?e(l)("base.processing"):e(l)("label.getData")),1)]),_:1},8,["color","disabled"])])])])],32))}};var Ss=G(ks,[["__scopeId","data-v-2ffdc537"]]);const ws=a=>(R("data-v-35ed8763"),a=a(),z(),a),Us={class:"pref-data"},xs=ws(()=>t("legend",null,"Data fields",-1)),Cs={class:"fields"},Vs={class:"field-basic"},Ts={class:"field-title"},Ds={class:"field-basic__body"},Is={class:"manage-tree"},Ks={class:"manage-tree-toolbar"},Gs={class:"manage-tree-body"},Ms={props:{structure:Object},emits:{update:null},setup(a,{emit:n}){const l=a,{t:o}=B.global;let s=K({mode:"basic",showImportData:!1,textTreeColor:void 0}),c=K({tree:s.mode==="advanced"?JSON.stringify(l.structure.tree,null,2):l.structure.tree}),m;function g(h){try{switch(h){case"basic":let k=JSON.parse(c.tree);!oe(k),c.tree=k,s.mode=h;break;case"advanced":c.tree=se(c.tree),s.mode=h;break}}catch(k){window.dev&&console.error(k.message),alert(o("alert.invalidData"))}}function b(h){m&&clearTimeout(m),m=setTimeout(()=>{try{let k=JSON.parse(h);s.textTreeColor=void 0,n("update",{tree:k})}catch{s.textTreeColor="error"}},600)}function r(h){c.tree=h,n("update",{tree:h})}function v(h){switch(s.mode){case"advanced":c.tree=se(h);break;default:c.tree=h;break}n("update",{tree:h}),s.showImportData=!1}return(h,k)=>(f(),$("fieldset",Us,[xs,t("div",Cs,[t("div",Vs,[t("h3",Ts,d(e(o)("title.manageSlideData")),1),t("div",Ds,[t("div",Is,[t("nav",Ks,[t("div",null,[p(H,{type:"button",name:"pref_mode",id:"prof_mode",title:e(o)("title.changeMode"),items:[{key:"basic",label:e(o)("base.basic")},{key:"advanced",label:e(o)("base.advanced")}],modelValue:e(s).mode,"onUpdate:modelValue":g,class:"manage-tree__mode"},null,8,["title","items","modelValue"])]),t("div",null,[p($e,{title:e(o)("title.importSlideData"),"icon-name":"download",class:"manage-tree__button",onClick:k[0]||(k[0]=y=>e(s).showImportData=!0)},null,8,["title"])])]),t("div",Gs,[e(s).mode==="basic"?(f(),M(ts,{key:0,tree:e(c).tree,onUpdate:r},null,8,["tree"])):e(s).mode==="advanced"?(f(),M(D,{key:1,ref:"tree",type:"textarea",name:"pref_tree",id:"pref_tree",placeholder:e(o)("description.inputSlideDataCode"),rows:15,color:e(s).textTreeColor,modelValue:e(c).tree,"onUpdate:modelValue":[k[1]||(k[1]=y=>e(c).tree=y),b]},null,8,["placeholder","color","modelValue"])):w("",!0)])])])])]),(f(),M(ie,{to:"#slideshowModal"},[e(s).showImportData?(f(),M(Z,{key:0,title:e(o)("title.getSlideItems"),class:"pref-data__import-data",onClose:k[2]||(k[2]=y=>e(s).showImportData=!1)},{default:I(()=>[p(Ss,{onUpdate:v})]),_:1},8,["title"])):w("",!0)]))]))}};var Os=G(Ms,[["__scopeId","data-v-35ed8763"]]);export{Os as default};
