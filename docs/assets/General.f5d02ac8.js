import{_ as B,I as N,i as R,c as m,s as r,m as S}from"./index.2b5e35b2.js";import{B as g,t as U}from"./Basic.76b379bd.js";import{F as E}from"./Select.109bce03.js";import{F as V}from"./Switch.9efd5f8a.js";import{o as C,b as H,h as e,k as a,t as o,i as q,r as O,u as t,z as v,p as D,m as G,A as k}from"./vendor.95a30472.js";const P={class:"form-checkbox"},T={class:"form-checkbox__body"},J=["name","id","required","disabled","checked"],M={key:0,class:"form-checkbox__label"},z={props:{name:{type:String,required:!0},id:String,disabled:Boolean,required:Boolean,label:String,modelValue:Boolean},emits:["update:modelValue","blur:modelValue"],setup(u,{emit:w}){const n=u;return(s,d)=>(C(),H("label",P,[e("span",T,[e("input",{type:"checkbox",name:n.name,id:n.id,required:n.required,disabled:n.disabled,checked:n.modelValue,onChange:d[0]||(d[0]=_=>s.$emit("update:modelValue",Boolean(_.target.checked)))},null,40,J),e("i",null,[a(N,{"icon-name":"check"})])]),n.label?(C(),H("em",M,o(n.label),1)):q("",!0)]))}};var b=B(z,[["__scopeId","data-v-3d334f29"]]);const y=u=>(D("data-v-5716fa45"),u=u(),G(),u),K=y(()=>e("legend",null,"General fields",-1)),L={class:"fields"},Y={class:"field-basic"},Q={class:"field-title"},W={for:"pref_language"},X={class:"field-description"},Z={class:"field-basic__body"},ee={value:"en"},te={value:"ko"},se=y(()=>e("hr",{class:"field-line"},null,-1)),le={class:"field-switch"},ie={class:"field-switch__body"},oe={class:"field-title"},de={for:"pref_hud"},ne={class:"field-description"},ae={class:"field-switch__input"},re={class:"field-switch"},ce={class:"field-switch__body"},ue={class:"field-title"},_e={for:"pref_hoverVisibleHud"},pe={class:"field-description"},fe={class:"field-switch__input"},he={class:"field-switch"},be={class:"field-switch__body"},me={class:"field-title"},ve={for:"pref_clickVisibleHud"},ge={class:"field-description"},Ve={class:"field-switch__input"},ke={class:"field-basic"},Ce={class:"field-title"},He={for:"pref_hudContents"},ye={class:"field-description"},we={class:"field-basic__body"},xe={class:"field-checks"},Se=y(()=>e("hr",{class:"field-line"},null,-1)),Ue={class:"field-basic"},Be={class:"field-title"},$e={class:"field-description"},Fe={class:"field-basic__body"},Ae={class:"grid import-data"},Ie={class:"field-basic"},je={class:"field-title"},Ne={class:"field-description"},Re={class:"field-basic__body"},Ee={props:{structure:Object},emits:["update"],setup(u,{emit:w}){const n=u,{t:s}=R.global;let d=O({language:n.structure.language,hud:n.structure.hud,hoverVisibleHud:n.structure.hoverVisibleHud,clickVisibleHud:n.structure.clickVisibleHud,visibleHudContents:m(n.structure.visibleHudContents)});function _(){const p=m(d);w("update",p)}function h(p,l){d.visibleHudContents[p]=l,_()}function $(){if(!confirm(s("confirm.backup")))return;let p={preference:m(r.state.preference),tree:m(r.state.tree)};const l=new Date;let i=`${l.getFullYear()}${U(l.getMonth()+1)}${U(l.getDate())}`;const f=document.createElement("a");f.setAttribute("href",`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(p,null,2))}`),f.setAttribute("download",`slideshow_${i}.json`),f.click()}function F(){return new Promise((p,l)=>{const i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("accept","application/json"),i.addEventListener("change",f=>{if(!(f.target.files&&f.target.files.length>0)){alert(s("alert.noSelectedFile"));return}const I=f.target.files[0],x=new FileReader;x.onload=j=>{try{let c=JSON.parse(String(j.target.result));if(!confirm(s("confirm.restore")))return;if(!(c.preference||c.tree))throw new Error("no data");c.preference&&r.dispatch("changePreference",c.preference),c.tree&&r.dispatch("changeTree",c.tree),r.dispatch("changeMode",null),r.dispatch("changeActiveSlide",r.state.preference.slides.initialNumber),r.dispatch("changeAutoplay",!1),r.commit("updateUseKeyboardEvent",!0),alert(s("alert.completeRestore")),S.restart().then()}catch(c){window.dev&&console.error(c.message),alert(s("alert.failedRestore"))}},x.readAsText(I)},!1),i.click()})}function A(){!confirm(s("confirm.reset"))||r.dispatch("reset").then(()=>S.restart().then())}return(p,l)=>(C(),H("fieldset",null,[K,e("div",L,[e("div",Y,[e("h3",Q,[e("label",W,o(t(s)("base.language")),1)]),e("p",X,o(t(s)("description.language")),1),e("div",Z,[a(E,{name:"pref_language",id:"pref_language",modelValue:t(d).language,"onUpdate:modelValue":[l[0]||(l[0]=i=>t(d).language=i),_]},{default:v(()=>[e("option",ee,o(t(s)("language.en")),1),e("option",te,o(t(s)("language.ko")),1)]),_:1},8,["modelValue"])])]),se,e("div",le,[e("div",ie,[e("h3",oe,[e("label",de,o(t(s)("base.hud")),1)]),e("p",ne,o(t(s)("description.hud")),1)]),e("div",ae,[a(V,{name:"pref_hud",id:"pref_hud",modelValue:t(d).hud,"onUpdate:modelValue":[l[1]||(l[1]=i=>t(d).hud=i),_]},null,8,["modelValue"])])]),e("div",re,[e("div",ce,[e("h3",ue,[e("label",_e,o(t(s)("title.hoverVisibleHud")),1)]),e("p",pe,o(t(s)("description.hoverVisibleHud")),1)]),e("div",fe,[a(V,{name:"pref_hoverVisibleHud",id:"pref_hoverVisibleHud",modelValue:t(d).hoverVisibleHud,"onUpdate:modelValue":[l[2]||(l[2]=i=>t(d).hoverVisibleHud=i),_]},null,8,["modelValue"])])]),e("div",he,[e("div",be,[e("h3",me,[e("label",ve,o(t(s)("title.touchHud")),1)]),e("p",ge,o(t(s)("description.touchHud")),1)]),e("div",Ve,[a(V,{name:"pref_clickVisibleHud",id:"pref_clickVisibleHud",modelValue:t(d).clickVisibleHud,"onUpdate:modelValue":[l[3]||(l[3]=i=>t(d).clickVisibleHud=i),_]},null,8,["modelValue"])])]),e("div",ke,[e("h3",Ce,[e("label",He,o(t(s)("title.visibleContents")),1)]),e("p",ye,o(t(s)("description.visibleContents")),1),e("div",we,[e("ul",xe,[e("li",null,[a(b,{name:"pref_hudContents",id:"pref_hudContents",label:t(s)("base.menu"),modelValue:t(d).visibleHudContents.menu,"onUpdate:modelValue":l[4]||(l[4]=i=>h("menu",i))},null,8,["label","modelValue"])]),e("li",null,[a(b,{name:"pref_hudContents",label:t(s)("base.caption"),modelValue:t(d).visibleHudContents.caption,"onUpdate:modelValue":l[5]||(l[5]=i=>h("caption",i))},null,8,["label","modelValue"])]),e("li",null,[a(b,{name:"pref_hudContents",label:t(s)("base.controller"),modelValue:t(d).visibleHudContents.controller,"onUpdate:modelValue":l[6]||(l[6]=i=>h("controller",i))},null,8,["label","modelValue"])]),e("li",null,[a(b,{name:"pref_hudContents",label:t(s)("base.paginate"),modelValue:t(d).visibleHudContents.paginate,"onUpdate:modelValue":l[7]||(l[7]=i=>h("paginate",i))},null,8,["label","modelValue"])]),e("li",null,[a(b,{name:"pref_hudContents",label:t(s)("base.group"),modelValue:t(d).visibleHudContents.group,"onUpdate:modelValue":l[8]||(l[8]=i=>h("group",i))},null,8,["label","modelValue"])])])])]),Se,e("div",Ue,[e("h3",Be,[e("label",null,o(t(s)("title.backupOrRestore")),1)]),e("p",$e,o(t(s)("description.backup")),1),e("div",Fe,[e("div",Ae,[e("div",null,[a(g,{color:"key",onClick:$},{default:v(()=>[k(o(t(s)("base.backup")),1)]),_:1})]),e("div",null,[a(g,{color:"key",onClick:F},{default:v(()=>[k(o(t(s)("base.restore")),1)]),_:1})])])])]),e("div",Ie,[e("h3",je,[e("label",null,o(t(s)("base.reset")),1)]),e("p",Ne,o(t(s)("description.reset")),1),e("div",Re,[a(g,{color:"danger",onClick:A},{default:v(()=>[k(o(t(s)("base.resetSlideshow")),1)]),_:1})])])])]))}};var Te=B(Ee,[["__scopeId","data-v-5716fa45"]]);export{Te as default};
