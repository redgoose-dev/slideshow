{"version":3,"file":"exports.js","sources":["../src/libs/object.js","../src/store/defaults.js","../src/store/state.js","../src/libs/storage.js","../src/store/actions.js","../src/store/mutations.js","../src/store/index.js","../src/i18n/index.js","../src/libs/local.js","../src/libs/util.js","../src/libs/number.js","../plugin-vue:export-helper","../src/components/Icon/index.vue","../src/components/Slides/Images.vue","../src/libs/shuffle.js","../src/components/Slides/Caption.vue","../src/components/Slides/Controller.vue","../src/components/Slides/index.vue","../src/components/Slides/Empty.vue","../src/screen/Navigation/index.vue","../src/screen/Preference/Side.vue","../src/screen/Preference/index.vue","../src/screen/Group/Item.vue","../src/screen/Group/index.vue","../src/screen/Thumbnail/index.vue","../src/screen/Container.vue","../src/components/Loading/Intro.vue","../src/screen/App.vue"],"sourcesContent":["/**\n * check nested keys in object\n *\n * @param {object} src\n * @param {string} type\n * @param {array} keys\n * @throws {Error}\n */\nfunction checkNestedKeys(src, type, keys)\n{\n  const address = keys.join('.');\n  const message_errorType = `The type(${address}) is wrong.`;\n  for (let i = 0; i < keys.length; i++)\n  {\n    if (!src || !src.hasOwnProperty(keys[i]))\n    {\n      throw new Error(`The item(${address}) is missing or invalid.`);\n    }\n    src = src[keys[i]];\n  }\n  switch (type)\n  {\n    case 'array':\n      if (!Array.isArray(src)) throw new Error(message_errorType);\n      break;\n    case 'string':\n      if (typeof src !== 'string') throw new Error(message_errorType);\n      break;\n    case 'number':\n      if (typeof src !== 'number') throw new Error(message_errorType);\n      break;\n    case 'boolean':\n      if (typeof src !== 'boolean') throw new Error(message_errorType);\n      break;\n    case 'object':\n      if (typeof src !== 'object') throw new Error(message_errorType);\n      break;\n  }\n}\n\n/**\n * convert pure object\n * `proxy`, `observable`객체를 순수한 객체로 변환해준다.\n *\n * @param {Object|Array} src\n * @return\n */\nexport function convertPureObject(src)\n{\n  if (!src) return null;\n  try\n  {\n    return JSON.parse(JSON.stringify(src));\n  }\n  catch(_)\n  {\n    return null;\n  }\n}\n\n/**\n * check slide items\n *\n * @param {object[]} items\n * @return {boolean}\n * @throws {Error}\n */\nexport function checkSlideItems(items)\n{\n  if (!(items && typeof items === 'object')) throw new Error('Invalid slides data');\n  for (let i=0; i<items.length; i++)\n  {\n    if (!(items[i] && items[i].src))\n    {\n      throw new Error(`The item[${i}] of this item is invalid.`);\n    }\n  }\n}\n\n/**\n * check tree\n *\n * @param {object} src\n * @return {boolean}\n * @throws {Error}\n */\nexport function checkTree(src)\n{\n  if (!src) throw new Error('No value');\n  if (typeof src !== 'object') throw new Error('This value is not an object.');\n  let keys = Object.keys(src);\n  for (let i=0; i<keys.length; i++)\n  {\n    // for address\n    if (typeof src[keys[i]].slides === 'string') continue;\n    if (!Array.isArray(src[keys[i]].slides))\n    {\n      throw new Error(`not array item: item.${keys[i]}`);\n    }\n    if (src[keys[i]].length <= 0) continue;\n    checkSlideItems(src[keys[i]]);\n  }\n  return true;\n}\n\n/**\n * check preference data\n */\nexport function checkPreference(item)\n{\n  try\n  {\n    if (!item) throw new Error('no item');\n    if (!(item.general && item.slides && item.style && item.keyboard)) throw new Error('no item property');\n    // general\n    checkNestedKeys(item, 'string', ['general', 'language']);\n    checkNestedKeys(item, 'boolean', ['general', 'hud']);\n    checkNestedKeys(item, 'boolean', ['general', 'hoverVisibleHud']);\n    checkNestedKeys(item, 'boolean', ['general', 'visibleHudContents', 'menu']);\n    checkNestedKeys(item, 'boolean', ['general', 'visibleHudContents', 'caption']);\n    checkNestedKeys(item, 'boolean', ['general', 'visibleHudContents', 'controller']);\n    checkNestedKeys(item, 'boolean', ['general', 'visibleHudContents', 'paginate']);\n    checkNestedKeys(item, 'boolean', ['general', 'visibleHudContents', 'autoplay']);\n    checkNestedKeys(item, 'boolean', ['general', 'visibleHudContents', 'group']);\n    // slides\n    checkNestedKeys(item, 'number', ['slides', 'initialNumber']);\n    checkNestedKeys(item, 'string', ['slides', 'animationType']);\n    checkNestedKeys(item, 'number', ['slides', 'animationSpeed']);\n    checkNestedKeys(item, 'string', ['slides', 'captionAnimationType']);\n    checkNestedKeys(item, 'number', ['slides', 'captionAnimationSpeed']);\n    checkNestedKeys(item, 'boolean', ['slides', 'autoplay']);\n    checkNestedKeys(item, 'number', ['slides', 'autoplayDelay']);\n    checkNestedKeys(item, 'boolean', ['slides', 'autoplayDirection']);\n    checkNestedKeys(item, 'boolean', ['slides', 'autoplayPauseOnHover']);\n    checkNestedKeys(item, 'boolean', ['slides', 'loop']);\n    checkNestedKeys(item, 'boolean', ['slides', 'swipe']);\n    // style\n    checkNestedKeys(item, 'string', ['style', 'screenColor']);\n    checkNestedKeys(item, 'string', ['style', 'imageType']);\n    checkNestedKeys(item, 'array', ['style', 'imageScale']);\n    checkNestedKeys(item, 'number', ['style', 'captionScale']);\n    checkNestedKeys(item, 'array', ['style', 'captionPosition']);\n    // keyboard\n    checkNestedKeys(item, 'boolean', ['keyboard', 'enabled']);\n    return true;\n  }\n  catch(e)\n  {\n    if (window.dev) console.error(e.message);\n    return false;\n  }\n}\n","export default {\n  preference: {\n    general: {\n      language: 'en', // en,ko\n      hud: true,\n      hoverVisibleHud: false,\n      clickVisibleHud: false,\n      visibleHudContents: {\n        menu: true,\n        thumbnail: false,\n        caption: true,\n        controller: true,\n        paginate: true,\n        autoplay: true,\n        group: true,\n      },\n    },\n    slides: {\n      initialNumber: 0,\n      animationType: 'horizontal', // none,fade,horizontal\n      animationSpeed: 500,\n      captionAnimationType: 'none', // none,shuffle\n      captionAnimationSpeed: 40,\n      autoplay: false,\n      autoplayDelay: 7000,\n      autoplayDirection: true, // next(true), prev(false)\n      autoplayPauseOnHover: false,\n      loop: true,\n      swipe: true,\n    },\n    style: {\n      screenColor: 'system', // dark,light,system\n      imageType: 'none', // none,contain,cover\n      imageScale: ['75%','75%'], // [ width, height ]\n      captionScale: 100, // %\n      captionPosition: ['32px','30px'], // [ left, top ]\n    },\n    keyboard: {\n      enabled: true,\n    },\n  },\n  usePreference: {\n    slides: true,\n    style: true,\n    data: true,\n    keyboard: true,\n    information: true,\n  },\n  tree: {\n    default: {\n      slides: [],\n    },\n  },\n  slides: [],\n  group: 'default',\n  mode: null,\n  activeSlide: undefined,\n  keyboardEvent: true,\n  autoplay: false,\n};\n","import { convertPureObject } from '../libs/object';\nimport defaults from './defaults';\n\n// set state\nlet state = convertPureObject(defaults);\n\nexport default state;\n","const prefix = 'slideshow';\nlet disableStorage = {\n  preference: false,\n  tree: false,\n};\n\n/**\n * check localStorage\n *\n * @return {boolean}\n */\nfunction checkObject()\n{\n  return !!window.localStorage;\n}\n\n/**\n * get value in localStorage\n *\n * @param {string} key\n * @returns {object}\n */\nexport function get(key)\n{\n  if (disableStorage[key]) return;\n  if (!(checkObject() && key)) return undefined;\n  try\n  {\n    return JSON.parse(window.localStorage.getItem(`${prefix}_${key}`));\n  }\n  catch(e)\n  {\n    return undefined;\n  }\n}\n\n/**\n * set value in localStorage\n *\n * @param {string} key\n * @param {any} value\n */\nexport function set(key, value)\n{\n  if (disableStorage[key]) return;\n  if (!(checkObject() && key && value)) return;\n  window.localStorage.setItem(`${prefix}_${key}`, JSON.stringify(value));\n}\n\n/**\n * disabled storage\n */\nexport function disabled(key)\n{\n  switch (key)\n  {\n    case 'preference':\n    case 'tree':\n    case 'group':\n      disableStorage[key] = true;\n      break;\n  }\n}\n","import defaults from './defaults';\nimport * as object from '../libs/object';\nimport * as storage from '../libs/storage';\n\n/**\n * change mode\n * 'null,thumbnail,preference,guide'\n *\n * @param {object} context\n * @param {string} value\n */\nexport function changeMode(context, value)\n{\n  if (context.state.mode === value) return;\n  switch (value)\n  {\n    case 'preference':\n    case 'group':\n    case 'thumbnail':\n      context.commit('updateMode', value);\n      break;\n    default:\n      context.commit('updateMode', null);\n      break;\n  }\n}\n\n/**\n * change preference\n */\nexport function changePreference(context, value)\n{\n  const pref = object.convertPureObject(value);\n  context.commit('updatePreference', pref);\n  storage.set('preference', pref);\n}\n\n/**\n * change autoplay\n * @param {object} context\n * @param {boolean} sw\n */\nexport function changeAutoplay(context, sw = undefined)\n{\n  if (!context.state.preference.slides.autoplay) return;\n  sw = sw === undefined ? !context.state.autoplay : sw;\n  context.commit('updateAutoplay', sw);\n}\n\n/**\n * change hud\n *\n * @param {object} context\n * @param {boolean} sw\n */\nexport function changeHud(context, sw = undefined)\n{\n  sw = sw === undefined ? !context.state.preference.general.hud : sw;\n  context.commit('updateValueInPreference', {\n    map: [ 'general', 'hud' ],\n    value: sw,\n  });\n}\n\n/**\n * change tree\n *\n * @param {object} context\n * @param {object} tree\n */\nexport function changeTree(context, tree)\n{\n  try\n  {\n    object.checkSlideItems(tree);\n    context.commit('updateTree', tree);\n    storage.set('tree', tree);\n  }\n  catch(e)\n  {\n    if (window.dev) console.error(e.message);\n    throw new Error(e.message);\n  }\n}\n\n/**\n * change slides\n *\n * @param {object} context\n * @param {object[]} newSlides\n */\nexport function changeSlides(context, newSlides)\n{\n  context.commit('updateSlides', newSlides);\n}\n\n/**\n * change active slide\n *\n * @param {object} context\n * @param {number} active\n */\nexport function changeActiveSlide(context, active)\n{\n  if (typeof active !== 'number') return;\n  context.commit('updateActiveSlide', active);\n}\n\n/**\n * reset\n *\n * @param {object} context\n */\nexport async function reset(context)\n{\n  const preference = object.convertPureObject(defaults.preference);\n  const tree = object.convertPureObject(defaults.tree);\n  const slides = object.convertPureObject(defaults.slides);\n  await context.dispatch('changePreference', preference);\n  await context.dispatch('changeTree', tree);\n  await context.dispatch('changeSlides', slides);\n  context.commit('updateActiveSlide', preference.slides.initialNumber);\n  context.commit('updateUseKeyboardEvent', true);\n  context.commit('updateMode', null);\n}\n\n/**\n * change group\n *\n * @param context\n * @param {string} key\n */\nexport function changeGroup(context, key)\n{\n  context.commit('updateGroup', key);\n  storage.set('group', key);\n}\n","/**\n * change mode\n */\nexport function updateMode(state, value)\n{\n  state.mode = value;\n}\n\n/**\n * update active slide\n */\nexport function updateActiveSlide(state, n)\n{\n  state.activeSlide = n;\n}\n\n/**\n * use keyboard event\n */\nexport function updateUseKeyboardEvent(state, sw)\n{\n  state.keyboardEvent = sw;\n}\n\n/**\n * update preference\n */\nexport function updatePreference(state, value)\n{\n  state.preference = value;\n}\n\n/**\n * update value in preference\n */\nexport function updateValueInPreference(state, src)\n{\n  const { value, map } = src;\n  if (!(map && Array.isArray(map))) return;\n  switch (map.length)\n  {\n    case 1:\n      state.preference[map[0]] = value;\n      break;\n    case 2:\n      state.preference[map[0]][map[1]] = value;\n      break;\n    case 3:\n      state.preference[map[0]][map[1]][map[2]] = value;\n      break;\n  }\n}\n\nexport function updateTree(state, value)\n{\n  state.tree = value;\n}\n\n/**\n * update slides\n */\nexport function updateSlides(state, value)\n{\n  state.slides = value;\n}\n\n/**\n * update group\n */\nexport function updateGroup(state, value)\n{\n  state.group = value;\n}\n\nexport function updateAutoplay(state, value)\n{\n  state.autoplay = value;\n}\n\n/**\n * update use preference\n * ex) `store.commit('updateUsePreference', [ 'data', false ]);`\n *\n * @param state\n * @param {array} value\n */\nexport function updateUsePreference(state, value)\n{\n  switch (value[0])\n  {\n    case 'slides':\n    case 'style':\n    case 'data':\n    case 'keyboard':\n    case 'information':\n      state.usePreference[value[0]] = Boolean(value[1]);\n      break;\n  }\n}\n","import { createStore } from 'vuex';\nimport state from './state';\nimport * as actions from './actions';\nimport * as mutations from './mutations';\n\nexport default createStore({\n  state,\n  mutations,\n  actions,\n});\n","import * as vueI18n from 'vue-i18n/index';\nimport en from './en.json';\nimport ko from './ko.json';\n\nexport default vueI18n.createI18n({\n  legacy: false,\n  locale: 'en',\n  fallbackLocale: 'en',\n  messages: {\n    en,\n    ko,\n  },\n});\n","import { convertPureObject } from './object';\n\nexport let baseOptions = {\n  preference: undefined,\n  tree: [],\n};\nexport let main = null;\nexport let slides = null;\nexport let useProps = null;\n\n/**\n * check elements\n */\nfunction checkElements()\n{\n  if (!document.getElementById('slideshow'))\n  {\n    const slideshow = document.createElement('div');\n    slideshow.setAttribute('id', 'slideshow');\n    slideshow.classList.add('slideshow-wrap');\n    document.body.append(slideshow);\n  }\n  if (!document.getElementById('slideshowModal'))\n  {\n    let modal = document.createElement('div');\n    modal.setAttribute('id', 'slideshowModal');\n    modal.classList.add('slideshow-wrap');\n    document.body.append(modal);\n  }\n}\n\n/**\n * initialize app\n *\n * @param {object} options\n */\nexport function initialize(options)\n{\n  // set base options\n  if (options)\n  {\n    const { tree, preference } = options;\n    if (preference) baseOptions.preference = preference;\n    if (tree) baseOptions.tree = convertPureObject(tree);\n  }\n  // set elements\n  checkElements();\n}\n\n/**\n * setup app\n *\n * @param {any} o\n * @param {object} use\n */\nexport function setup(o, use)\n{\n  main = o;\n  useProps = use;\n}\n\n/**\n * setup slides\n *\n * @param {any} o\n */\nexport function setupSlides(o)\n{\n  slides = o;\n}\n","/**\n * sleep (delay tool)\n *\n * @param {Number} ms\n * @return {Promise}\n */\nexport function sleep(ms = 1000)\n{\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\n/**\n * convert pure object\n * `proxy`, `observable`객체를 순수한 객체로 변환해준다.\n *\n * @param {object|Array} src\n * @return {object|Array}\n */\nexport function convertPureObject(src)\n{\n  if (!src) return null;\n  return JSON.parse(JSON.stringify(src));\n}\n\n/**\n * initial custom event\n * 중복되는 `dom`에다 여러 이벤트를 넣고 싶을때(특히 window) 유니크한 이름으로 이벤트를 만들 수 있도록 커스텀 이벤트를 만들어서 사용할때 사용한다.\n */\nexport function initCustomEvent()\n{\n  const events = {\n    on(event, cb, opts)\n    {\n      if (!this.namespaces) this.namespaces = {};\n      this.namespaces[event] = cb;\n      const options = opts || false;\n      this.addEventListener(event.split('.')[0], cb, options);\n      return this;\n    },\n    off(event)\n    {\n      if (!(this.namespaces && this.namespaces[event])) return;\n      this.removeEventListener(event.split('.')[0], this.namespaces[event]);\n      delete this.namespaces[event];\n      return this;\n    },\n  };\n  window.on = document.on = Element.prototype.on = events.on;\n  window.off = document.off = Element.prototype.off = events.off;\n}\n\n/**\n * set area true\n *\n * @param {Array} src\n * @param {number} total\n * @param {number} current\n * @param {boolean} loop\n * @return {Array}\n */\nexport function setAreaTrue(src, total, current, loop)\n{\n  function setTrue(sw)\n  {\n    if (sw)\n    {\n      if (src[current + 1] !== undefined) src[current + 1] = true;\n    }\n    else\n    {\n      if (src[current - 1] !== undefined) src[current - 1] = true;\n    }\n  }\n  src = convertPureObject(src);\n  if (loop)\n  {\n    if (current === 0)\n    {\n      src[total - 1] = true;\n      setTrue(true);\n    }\n    else if (current === total - 1)\n    {\n      src[0] = true;\n      setTrue(false);\n    }\n    else\n    {\n      setTrue(true);\n      setTrue(false);\n    }\n  }\n  else\n  {\n    setTrue(true);\n    setTrue(false);\n  }\n  return src;\n}\n\n/**\n * control fullscreen\n *\n * @param {boolean} sw\n */\nexport function fullscreen(sw)\n{\n  const doc = window.document;\n  const docEl = doc.documentElement;\n  if (sw)\n  {\n    const requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;\n    requestFullScreen.call(docEl);\n  }\n  else\n  {\n    const cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;\n    cancelFullScreen.call(doc);\n  }\n}\n\n/**\n * get value from type\n * 타입으로 값 가져오기\n *\n * @param {string} type\n * @param {string} value\n * @return {any}\n */\nexport function getValueFromType(type, value)\n{\n  switch (type)\n  {\n    case 'boolean':\n      return (value === 'true');\n    case 'number':\n      return Number(value);\n    default:\n      return value;\n  }\n}\n\n/**\n * get api data\n *\n * @param {string} url\n * @param {boolean} parse\n * @return {Promise}\n * @throws {Error}\n */\nexport function getApiData(url, parse = true)\n{\n  return new Promise((resolve, reject) => {\n    try\n    {\n      const httpRequest = new XMLHttpRequest();\n      if (!httpRequest) throw new Error('no XMLHttpRequest');\n      httpRequest.onreadystatechange = () => {\n        try\n        {\n          if (httpRequest.readyState !== XMLHttpRequest.DONE) return;\n          if (httpRequest.status === 200)\n          {\n            resolve(parse ? JSON.parse(httpRequest.responseText) : httpRequest.responseText);\n          }\n          else\n          {\n            throw new Error('failed request url');\n          }\n        }\n        catch(e)\n        {\n          reject(new Error(e.message));\n        }\n      };\n      httpRequest.open('get', url);\n      httpRequest.send();\n    }\n    catch(e)\n    {\n      reject(new Error(e.message || 'failed request url'));\n    }\n  });\n}\n\n/**\n * get file data\n *\n * @param {File} file\n * @param {boolean} parse\n * @return {Promise}\n * @throws {Error}\n */\nexport function getFileData(file, parse = true)\n{\n  return new Promise((resolve, reject) => {\n    try\n    {\n      if (!(file)) throw new Error('no file');\n      const reader = new FileReader();\n      reader.onload = e => {\n        try\n        {\n          resolve(parse ? JSON.parse(e.target.result) : e.target.result);\n        }\n        catch(e)\n        {\n          reject(new Error(e.message || 'failed get file data'));\n        }\n      };\n      reader.readAsText(file);\n    }\n    catch(e)\n    {\n      reject(new Error(e.message || 'failed get file data'));\n    }\n  });\n}\n","/**\n * move number\n *\n * @param {number} total\n * @param {number} value\n * @param {boolean} loop\n * @return {number}\n */\nexport function move(total = 0, value = 0, loop = true)\n{\n  if (total - 1 < value)\n  {\n    if (!loop) return total - 1;\n    return 0;\n  }\n  else if (value < 0)\n  {\n    if (!loop) return 0;\n    return total - 1;\n  }\n  else\n  {\n    return Number(value);\n  }\n}\n\n","\nexport default (sfc, props) => {\n  for (const [key, val] of props) {\n    sfc[key] = val\n  }\n  return sfc\n}\n","<template>\n<svg\n  xmlns=\"http://www.w3.org/2000/svg\"\n  viewBox=\"0 0 24 24\"\n  :aria-labelledby=\"props.iconName\"\n  fill=\"none\"\n  stroke-linecap=\"round\"\n  stroke-linejoin=\"round\"\n  class=\"slideshow-icon\">\n  <component :is=\"state.computedIconComponent\"/>\n</svg>\n</template>\n\n<script setup>\nimport { defineAsyncComponent, computed, reactive } from 'vue';\n\nconst name = 'Icon';\nconst props = defineProps({\n  iconName: { type: String, required: true },\n});\nlet state = reactive({\n  computedIconComponent: computed(() => {\n    switch (props.iconName)\n    {\n      case 'menu':\n        return defineAsyncComponent(() => import('./src/icon-menu.vue'));\n      case 'menu-flat':\n        return defineAsyncComponent(() => import('./src/icon-menu-flat.vue'));\n      case 'arrow-left':\n        return defineAsyncComponent(() => import('./src/icon-arrow-left.vue'));\n      case 'arrow-right':\n        return defineAsyncComponent(() => import('./src/icon-arrow-right.vue'));\n      case 'arrow-up':\n        return defineAsyncComponent(() => import('./src/icon-arrow-up.vue'));\n      case 'arrow-down':\n        return defineAsyncComponent(() => import('./src/icon-arrow-down.vue'));\n      case 'frown':\n        return defineAsyncComponent(() => import('./src/icon-frown.vue'));\n      case 'tool':\n        return defineAsyncComponent(() => import('./src/icon-tool.vue'));\n      case 'droplet':\n        return defineAsyncComponent(() => import('./src/icon-droplet.vue'));\n      case 'copy':\n        return defineAsyncComponent(() => import('./src/icon-copy.vue'));\n      case 'database':\n        return defineAsyncComponent(() => import('./src/icon-database.vue'));\n      case 'command':\n        return defineAsyncComponent(() => import('./src/icon-command.vue'));\n      case 'check':\n        return defineAsyncComponent(() => import('./src/icon-check.vue'));\n      case 'x':\n        return defineAsyncComponent(() => import('./src/icon-x.vue'));\n      case 'upload':\n        return defineAsyncComponent(() => import('./src/icon-upload.vue'));\n      case 'file':\n        return defineAsyncComponent(() => import('./src/icon-file.vue'));\n      case 'info':\n        return defineAsyncComponent(() => import('./src/icon-info.vue'));\n      case 'play-circle':\n        return defineAsyncComponent(() => import('./src/icon-play-circle.vue'));\n      case 'download':\n        return defineAsyncComponent(() => import('./src/icon-download.vue'));\n      case 'edit':\n        return defineAsyncComponent(() => import('./src/icon-edit.vue'));\n      case 'plus':\n        return defineAsyncComponent(() => import('./src/icon-plus.vue'));\n      case 'folder':\n        return defineAsyncComponent(() => import('./src/icon-folder.vue'));\n      case 'minus':\n        return defineAsyncComponent(() => import('./src/icon-minus.vue'));\n      default:\n        return null;\n    }\n  }),\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.slideshow-icon {\n  display: block;\n  width: var(--icon-size, 24px);\n  height: var(--icon-size, 24px);\n  stroke: var(--icon-color, #000);\n  stroke-width: var(--icon-stroke, 2px);\n}\n</style>\n","<template>\n<div\n  :class=\"[\n    'slideshow-images',\n    `animation--${animationType}`,\n    imageType && `type--${imageType}`,\n    state.playAnimation && 'play-animation',\n    state.cancelAnimation && 'cancel-animation',\n  ]\"\n  :style=\"state.computedContainerStyle\">\n  <div ref=\"wrap\" class=\"wrap\">\n    <figure\n      v-if=\"state.computedShowFirstItem\"\n      class=\"first\">\n      <img\n        v-if=\"state.loaded[items.length-1]\"\n        :src=\"items[items.length-1].src\"\n        :alt=\"items[items.length-1].title\">\n    </figure>\n    <figure\n      v-for=\"(item, key) in items\"\n      :ref=\"el => { figures[key] = el }\"\n      :class=\"[\n        (state.active === key && !!state.activeClassName) && state.activeClassName,\n        (state.nextKey === key && !!state.nextClassName) && state.nextClassName,\n      ]\">\n      <div v-if=\"state.error[key]\" class=\"empty-image\">\n        <Icon icon-name=\"x\"/>\n        <strong>no image</strong>\n      </div>\n      <img\n        v-else-if=\"state.loaded[key]\"\n        :src=\"item.src\"\n        :alt=\"item.title\"\n        @error=\"onErrorImage(key)\">\n    </figure>\n    <figure\n      v-if=\"state.computedShowLastItem\"\n      class=\"last\">\n      <img\n        v-if=\"state.loaded[0]\"\n        :src=\"items[0].src\"\n        :alt=\"items[0].title\">\n    </figure>\n  </div>\n  <i class=\"overlay\"/>\n</div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed } from 'vue';\nimport * as util from '~/libs/util';\nimport Icon from '~/components/Icon/index.vue';\n\nconst name = 'SlidesImages';\nconst props = defineProps({\n  items: { type: Array, required: true }, // 슬라이드 아이템 목록\n  initialActive: { type: Number, default: 0 }, // 초기 활성화되는 슬라이드\n  animationType: { type: String, default: 'none' }, // fade,horizontal,none\n  imageType: { type: String, default: null }, // null,contain,cover\n  duration: { type: Number, default: 800 }, // animation speed(ms)\n  imageSize: { type: Array, default: [100,100] }, // slide image scale(%)\n  loop: { type: Boolean }, // slide loop\n  movePos: { type: Number, default: undefined },\n});\nconst emits = defineEmits({\n  'animation-control': null,\n  'change-active': null,\n});\nlet state = reactive({\n  loaded: new Array(props.items.length).fill(false), // 이미지 로드체크 목록\n  error: new Array(props.items.length).fill(false), // 이미지 에러체크 목록\n  active: props.initialActive, // 현재 활성화되어있는 슬라이드 번호\n  activeClassName: 'current',\n  nextKey: undefined,\n  nextClassName: undefined,\n  playAnimation: false,\n  cancelAnimation: false,\n  computedContainerStyle: computed(() => {\n    let result = {\n      '--speed-slide-animation': `${props.duration}ms`,\n      '--image-size-width': props.imageSize[0],\n      '--image-size-height': props.imageSize[1],\n    };\n    if (props.animationType === 'horizontal')\n    {\n      result[`--active-column`] = (state.nextKey !== undefined) ? state.nextKey : state.active;\n      if (props.movePos !== undefined)\n      {\n        result['--move-pos'] = `${props.movePos}vw`;\n      }\n    }\n    return result;\n  }),\n  computedShowFirstItem: computed(() => {\n    if (!props.loop) return false;\n    if (props.items.length <= 1) return false;\n    return props.items[props.items.length-1] && props.animationType === 'horizontal';\n  }),\n  computedShowLastItem: computed(() => {\n    if (!props.loop) return false;\n    if (props.items.length <= 1) return false;\n    return props.items[0] && props.animationType === 'horizontal';\n  }),\n});\nlet _active = props.initialActive;\nconst figures = ref([]);\nconst wrap = ref(null);\nlet targetElement = null;\n\n// set loaded\nstate.loaded[props.initialActive] = true;\nstate.loaded = util.setAreaTrue(state.loaded, props.items.length, props.initialActive, props.loop);\n\n// methods\nasync function play(n = null, userAnimationType = undefined)\n{\n  if (typeof n !== 'number') return;\n  // set temp active\n  _active = Number(n);\n  // play motion\n  const type = userAnimationType !== undefined ? userAnimationType : props.animationType;\n  // check loaded image\n  if (!state.loaded[_active])\n  {\n    try\n    {\n      await checkLoadImage(props.items[_active].src);\n      state.loaded[_active] = true;\n    }\n    catch(e)\n    {\n      state.error[_active] = true;\n    }\n  }\n  // play transition\n  switch (type)\n  {\n    case 'fade':\n      if (targetElement)\n      {\n        targetElement.removeEventListener('transitionend', onTransitionEnd);\n        targetElement = null;\n      }\n      emits('animation-control', true);\n      state.playAnimation = true;\n      state.activeClassName = 'fadeout ready';\n      state.nextKey = _active;\n      state.nextClassName = 'fadein ready';\n      await util.sleep(20);\n      state.nextClassName = 'fadein';\n      targetElement = figures.value[_active];\n      targetElement.addEventListener('transitionend', onTransitionEnd);\n      break;\n    case 'horizontal':\n      emits('animation-control', true);\n      state.playAnimation = true;\n      if (props.loop)\n      {\n        if (state.active === 0 && _active >= props.items.length - 1)\n        {\n          state.nextKey = -1;\n        }\n        else if (state.active >= props.items.length - 1 && _active === 0)\n        {\n          state.nextKey = props.items.length;\n        }\n        state.active = _active;\n      }\n      else\n      {\n        state.active = _active;\n      }\n      wrap.value.addEventListener('transitionend', onTransitionEnd);\n      break;\n    case 'none':\n    default:\n      state.active = _active;\n      state.loaded = util.setAreaTrue(state.loaded, props.items.length, props.initialActive, props.loop);\n      break;\n  }\n}\nfunction onTransitionEnd()\n{\n  switch (props.animationType)\n  {\n    case 'fade':\n      state.playAnimation = false;\n      state.nextKey = undefined;\n      state.nextClassName = undefined;\n      state.active = _active;\n      state.activeClassName = 'current';\n      state.loaded = util.setAreaTrue(state.loaded, props.items.length, props.initialActive, props.loop);\n      if (targetElement)\n      {\n        targetElement.removeEventListener('transitionend', onTransitionEnd);\n        targetElement = null;\n      }\n      emits('animation-control', false);\n      break;\n    case 'horizontal':\n      state.playAnimation = false;\n      state.nextKey = undefined;\n      state.loaded = util.setAreaTrue(state.loaded, props.items.length, props.initialActive, props.loop);\n      wrap.value.removeEventListener('transitionend', onTransitionEnd);\n      emits('animation-control', false);\n      break;\n  }\n}\nasync function cancel()\n{\n  if (state.playAnimation) return;\n  emits('animation-control', true);\n  state.cancelAnimation = true;\n  wrap.value.addEventListener('transitionend', onCancelTransitionEnd);\n}\nfunction onCancelTransitionEnd()\n{\n  state.cancelAnimation = false;\n  wrap.value.removeEventListener('transitionend', onCancelTransitionEnd);\n  emits('animation-control', false);\n}\nfunction onErrorImage(key)\n{\n  state.error[key] = true;\n}\nfunction checkLoadImage(src)\n{\n  return new Promise((resolve, reject) => {\n    let image = new Image();\n    image.onload = () => resolve();\n    image.onerror = () => reject();\n    image.src = src;\n  });\n}\n\n// set expose\ndefineExpose({\n  play,\n  cancel,\n});\n</script>\n\n<style src=\"./Images.scss\" lang=\"scss\" scoped></style>\n","/**\n * shuffle\n *\n * @param {HTMLElement} $el\n * @param {Object} options\n * @return {void}\n */\nfunction shuffle($el, options)\n{\n  // merge options\n  options = Object.assign({}, {\n    text: '', // 최종적으로 표시되는 텍스트\n    waitChar: '-', // 변경되기전에 표시되는 텍스트\n    charSpeed: 1, // 한번에 바뀌는 글자의 갯수\n    moveFix: 25, // 텍스트가 바뀌는 딜레이 시간\n    moveRange: 10, // 랜덤으로 글자가 바뀌고 있을때의 시간관련\n    moveTrigger: 25, // 랜덤으로 글자가 바뀌고 있을때의 시간관련\n    fps: 60, // speed\n    pattern: 'abcdefghijklmnopqrstuvwxyz0123456789-_!@#$%^&*()+~<>', // random text pattern\n    randomTextType: null, // unicode,pattern\n    retry: true, // 함수가 실행할때마다 텍스트가 새로 만들어진다.\n    callback: null, // 애니메이션이 끝나고 실행되는 함수\n  }, options);\n  options.text = options.text.trim();\n\n  // set values\n  let textKeys = [];\n  let frame;\n  let position;\n  let currentText;\n  let checkLast;\n  let checkPlay = false;\n\n  /**\n   * stack\n   */\n  function stack()\n  {\n    let str = currentText;\n    checkLast = true;\n\n    for (let tick = position; tick <= frame; tick++)\n    {\n      if (0 !== textKeys[tick] && null != textKeys[tick])\n      {\n        checkLast = false;\n        const selectKey = textKeys[tick];\n        if (Math.abs(selectKey) <= options.moveTrigger)\n        {\n          let txt = '';\n          switch(options.randomTextType)\n          {\n            case 'pattern':\n              txt = randomWord(options.pattern);\n              break;\n            case 'unicode':\n            default:\n              const unicode = Math.min(Math.max(options.text.charCodeAt(tick) + selectKey, 33), 126);\n              txt = String.fromCharCode(unicode);\n              break;\n          }\n          str += txt;\n        }\n        else\n        {\n          str += options.waitChar;\n        }\n        selectKey > 0 ? textKeys[tick] -= 1 : textKeys[tick] += 1;\n      }\n      else\n      {\n        if (position === tick - 1)\n        {\n          position = tick;\n          currentText = options.text.substring(0, position);\n        }\n        str += options.text.charAt(tick);\n      }\n      $el.textContent = str;\n    }\n\n    if (frame <= options.text.length)\n    {\n      frame += options.charSpeed;\n    }\n    else\n    {\n      checkPlay = true;\n    }\n\n    // last stack\n    if (checkLast && checkPlay)\n    {\n      if ($el.dataset.id) clearInterval(parseInt($el.dataset.id));\n      $el.textContent = currentText;\n      $el.dataset.run = 'false';\n      if (options.callback) options.callback();\n    }\n  }\n\n  /**\n   * get random word\n   * 무작위 문자를 가져온다.\n   *\n   * @param {string} pattern\n   * @return {string}\n   */\n  function randomWord(pattern)\n  {\n    const n = Math.floor(Math.random() * pattern.length);\n    return pattern.substring(n, n + 1);\n  }\n\n  // play\n  if (options.text || (options.text && !options.retry && $el.dataset.run !== 'true'))\n  {\n    $el.dataset.run = 'true';\n    $el.textContent = options.waitChar;\n\n    // set values\n    for (let i=0; i<=options.text.length-1; i++)\n    {\n      if (' ' !== options.text.charAt(0))\n      {\n        textKeys[i] = (options.moveFix + Math.round(Math.random() * options.moveRange)) * (Math.round(Math.random()) - .5) * 2;\n      }\n      else\n      {\n        textKeys[i] = 0;\n      }\n    }\n\n    // reset values\n    frame = 0;\n    position = 0;\n    currentText = '';\n\n    // set interval\n    if ($el.dataset.id) clearInterval(parseInt($el.dataset.id));\n    const intervalId = setInterval(stack, 1e3 / options.fps);\n    $el.dataset.id = intervalId.toString();\n  }\n}\n\nexport default shuffle;\n","<template>\n<article\n  class=\"slideshow-caption\"\n  :style=\"{\n    '--caption-position-left': position[0],\n    '--caption-position-top': position[1],\n    '--caption-scale': scale,\n  }\">\n  <template v-if=\"animationType === 'shuffle'\">\n    <h1 v-if=\"title\" ref=\"elementTitle\"></h1>\n    <pre v-if=\"description\" ref=\"elementDescription\"></pre>\n  </template>\n  <template v-else>\n    <h1 v-if=\"title\">{{title}}</h1>\n    <pre v-if=\"description\">{{description}}</pre>\n  </template>\n</article>\n</template>\n\n<script setup>\nimport { watch, reactive, computed, onMounted, ref } from 'vue';\nimport shuffle from '~/libs/shuffle';\n\nconst name = 'Caption';\nconst props = defineProps({\n  active: { type: Number, required: true },\n  title: { type: String, default: 'Untitled' },\n  description: { type: String, default: null },\n  animationType: { type: String, default: null }, // null,shuffle\n  animationSpeed: { type: Number, default: 40 }, // shuffle(fps)\n  position: { type: Array, default: [] }, // [left,top]\n  scale: { type: Number, default: 100 },\n});\nconst elementTitle = ref(null);\nconst elementDescription = ref(null);\nlet state = reactive({\n  computedRealText: computed(() => {\n    switch (props.animationType)\n    {\n      case 'shuffle':\n        return false;\n      default:\n        return true;\n    }\n  }),\n});\nlet interval = undefined;\n\n// methods\nfunction playTransition(type)\n{\n  switch (type)\n  {\n    case 'shuffle':\n      clearTimer();\n      if (elementDescription.value.dataset.id)\n      {\n        clearInterval(Number(elementDescription.value.dataset.id));\n        elementDescription.value.innerText = '';\n      }\n      if (props.title)\n      {\n        shuffle(elementTitle.value, {\n          text: props.title,\n          fps: props.animationSpeed,\n          randomTextType: 'pattern',\n        });\n      }\n      if (props.description)\n      {\n        interval = setTimeout(() => {\n          clearTimer();\n          shuffle(elementDescription.value, {\n            text: props.description,\n            fps: props.animationSpeed,\n          });\n        }, 300);\n      }\n      break;\n  }\n}\nfunction clearTimer()\n{\n  if (!interval) return;\n  clearTimeout(interval);\n  interval = undefined;\n}\n\n// switch animation type\nswitch (props.animationType)\n{\n  case 'shuffle':\n    onMounted(() => setTimeout(() => playTransition('shuffle'), 100));\n    watch(() => props.active, () => playTransition('shuffle'));\n    break;\n}\n</script>\n\n<style src=\"./Caption.scss\" lang=\"scss\" scoped></style>\n","<template>\n<nav class=\"controller\">\n  <button\n    v-if=\"showPrev\"\n    type=\"button\"\n    :disabled=\"disabled\"\n    :title=\"t('label.prevSlide')\"\n    class=\"prev\"\n    @click=\"$emit('click-prev')\">\n    <Icon icon-name=\"arrow-left\"/>\n  </button>\n  <button\n    v-if=\"showNext\"\n    type=\"button\"\n    :disabled=\"disabled\"\n    :title=\"t('label.nextSlide')\"\n    class=\"next\"\n    @click=\"$emit('click-next')\">\n    <Icon icon-name=\"arrow-right\"/>\n  </button>\n</nav>\n</template>\n\n<script setup>\nimport Icon from '~/components/Icon/index.vue';\nimport i18n from '~/i18n';\n\nconst { t } = i18n.global;\nconst props = defineProps({\n  showPrev: { type: Boolean, default: true },\n  showNext: { type: Boolean, default: true },\n  disabled: { type: Boolean, default: false },\n});\nconst emits = defineEmits({\n  'click-prev': null,\n  'click-next': null,\n});\n</script>\n\n<style src=\"./Controller.scss\" lang=\"scss\" scoped></style>\n","<template>\n<article\n  :class=\"[\n    'slideshow-slides',\n    state.swipeMove && 'swipe-move',\n    `slideshow-slides--${computes.transitionType}`\n  ]\"\n  @touchstart=\"onStart\"\n  @touchmove=\"onMove\"\n  @touchend=\"onEnd\"\n  @mousedown=\"onStart\"\n  @mousemove=\"onMove\"\n  @mouseup=\"onEnd\"\n  @mouseleave=\"onTouchCancel\"\n  @mouseenter=\"onMouseEnter\"\n  @contextmenu=\"onContextMenu\">\n  <Images\n    ref=\"images\"\n    :initial-active=\"store.state.activeSlide\"\n    :items=\"state.computedImages\"\n    :animation-type=\"computes.transitionType\"\n    :duration=\"store.state.preference.slides.animationSpeed\"\n    :image-type=\"store.state.preference.style.imageType\"\n    :image-size=\"store.state.preference.style.imageScale\"\n    :loop=\"store.state.preference.slides.loop\"\n    :move-pos=\"state.swipePos\"\n    @animation-control=\"onAnimationControl\"\n    @change-active=\"onChangeActive\"/>\n  <Caption\n    v-if=\"state.computedVisibleCaption\"\n    :active=\"store.state.activeSlide\"\n    :title=\"state.computedCaption.title\"\n    :description=\"state.computedCaption.description\"\n    :animation-type=\"store.state.preference.slides.captionAnimationType\"\n    :animation-speed=\"store.state.preference.slides.captionAnimationSpeed\"\n    :position=\"store.state.preference.style.captionPosition\"\n    :scale=\"store.state.preference.style.captionScale\"/>\n  <Controller\n    v-if=\"state.computedVisibleController\"\n    :disabled=\"state.animated\"\n    :show-prev=\"state.computedShowPrevButton\"\n    :show-next=\"state.computedShowNextButton\"\n    class=\"slideshow-slides__controller\"\n    @click-prev=\"prev\"\n    @click-next=\"next\"/>\n  <Paginate\n    v-if=\"state.computedVisiblePaginate\"\n    :total=\"state.computedImages.length\"\n    :current=\"store.state.activeSlide\"\n    class=\"slideshow-slides__paginate\"/>\n</article>\n</template>\n\n<script setup>\nimport { reactive, computed, onMounted, onUnmounted, watch, ref } from 'vue';\nimport store from '~/store';\nimport * as number from '~/libs/number';\nimport Images from './Images.vue';\nimport Caption from './Caption.vue';\nimport Paginate from './Paginate.vue';\nimport Controller from './Controller.vue';\n\nconst name = 'Slides';\nconst images = ref(null);\nlet state = reactive({\n  animated: false,\n  swipePos: undefined,\n  swipeMove: false,\n  computedImages: computed(() => {\n    return store.state.slides.map(item => (item));\n  }),\n  computedShowPrevButton: computed(() => {\n    if (store.state.preference.slides.loop) return true;\n    return 0 < store.state.activeSlide;\n  }),\n  computedShowNextButton: computed(() => {\n    if (store.state.preference.slides.loop) return true;\n    return state.computedImages.length - 1 > store.state.activeSlide;\n  }),\n  computedCaption: computed(() => {\n    const item = state.computedImages[store.state.activeSlide];\n    return {\n      title: item.title,\n      description: item.description,\n    };\n  }),\n  computedVisibleCaption: computed(() => {\n    const { hud, visibleHudContents } = store.state.preference.general;\n    return hud && visibleHudContents.caption;\n  }),\n  computedVisibleController: computed(() => {\n    const { hud, visibleHudContents } = store.state.preference.general;\n    if (state.computedImages.length <= 1) return false;\n    return hud && visibleHudContents.controller;\n  }),\n  computedVisiblePaginate: computed(() => {\n    const { hud, visibleHudContents } = store.state.preference.general;\n    return hud && visibleHudContents.paginate;\n  }),\n});\nlet computes = reactive({\n  transitionType: computed(() => {\n    switch (store.state.preference.slides.animationType)\n    {\n      case 'fade':\n      case 'horizontal':\n        return store.state.preference.slides.animationType;\n      default:\n        return 'none';\n    }\n  }),\n});\nlet swipeMeta = null; // 슬라이드를 스와이프할때 필요한 정보들을 담는다.\nlet autoplayTimer = undefined; // 오토플레이 `setTimeout` 값을 담는데 사용된다.\nlet autoplayPause = false; // 오토플레이 일시정지할때 사용하는 결정적인 값\nlet mounted = false;\nlet touched = false;\n\n// check active number\nlet active = store.state.preference.slides.initialNumber;\nonChangeActive(!!checkActive(active) ? active : 0);\n\n// private methods\nfunction onAnimationControl(sw)\n{\n  state.animated = sw;\n  if (!sw)\n  {\n    // with autoplay\n    let autoplay = store.state.autoplay && !autoplayPause;\n    if (autoplay) runAutoplay(true);\n  }\n}\nfunction onChangeActive(n)\n{\n  store.dispatch('changeActiveSlide', n);\n}\nfunction checkActive(n)\n{\n  return !!state.computedImages[n];\n}\nfunction onStart(e)\n{\n  e.stopPropagation();\n  if (e.touches) touched = true;\n  if (!e.touches && touched) return;\n  if (e.touches && e.touches.length > 1) e.preventDefault();\n  if (state.animated) return;\n  if (!store.state.preference.slides.swipe) return;\n  if (store.state.preference.slides.animationType !== 'horizontal') return;\n  if (state.computedImages.length <= 2) return;\n  runAutoplay(false);\n  swipeMeta = {\n    dist: 0,\n    startX: (e.touches && e.touches[0]) ? Math.floor(e.touches[0].clientX) : (e.clientX || e.pageX),\n    startTime: new Date().getTime(),\n  };\n  state.swipeMove = true;\n}\nfunction onMove(e)\n{\n  e.stopPropagation();\n  if (!e.touches && touched) return;\n  if (state.animated || !state.swipeMove) return;\n  if (state.computedImages.length <= 2) return;\n  swipeMeta.moveX = (e.touches && e.touches[0]) ? Math.floor(e.touches[0].clientX) : (e.clientX || e.pageX);\n  const screenWidth = window.innerWidth;\n  const dist = swipeMeta.moveX - swipeMeta.startX;\n  state.swipePos = (dist / screenWidth * 100) + (0 - (100 * store.state.activeSlide));\n}\nfunction onEnd(e)\n{\n  e.stopPropagation();\n\n  function action(dir)\n  {\n    if (dir) next();\n    else prev();\n  }\n  function cancel()\n  {\n    images.value.cancel();\n  }\n\n  if (!e.touches && touched) return;\n  if (state.animated || !state.swipeMove) return;\n  if (e.touches && e.touches.length > 0) return;\n  if (state.computedImages.length <= 2) return;\n\n  const screenWidth = window.innerWidth;\n  swipeMeta.endX = (e.changedTouches && e.changedTouches[0]) ? Math.floor(e.changedTouches[0].clientX) : (e.clientX || e.pageX);\n  let dir = swipeMeta.startX > swipeMeta.endX; // next is true\n  let elapsedTime = new Date().getTime() - swipeMeta.startTime;\n  let distPos = swipeMeta.endX - swipeMeta.startX;\n  let percent = Math.abs(distPos) / screenWidth * 100;\n\n  // unset values\n  state.swipePos = undefined;\n  state.swipeMove = false;\n  swipeMeta = undefined;\n\n  // 클릭하는 수준으로 짧으면 정지\n  if (elapsedTime < 60 || percent < 1)\n  {\n    if (!autoplayPause) runAutoplay(true);\n    // toggle hud\n    if (store.state.preference.general.clickVisibleHud && !e.target.closest('.controller'))\n    {\n      store.dispatch('changeHud');\n    }\n    return;\n  }\n\n  // play\n  if (elapsedTime > 300)\n  {\n    // long touch\n    if (percent > 30) action(dir);\n    else cancel();\n  }\n  else\n  {\n    // short touch\n    if (percent > 5) action(dir);\n    else cancel();\n  }\n}\nfunction onTouchCancel(e)\n{\n  if (store.state.mode) return;\n  e.stopPropagation();\n  if (state.swipeMove) images.value.cancel();\n  state.swipePos = undefined;\n  state.swipeMove = false;\n  if (store.state.preference.slides.autoplayPauseOnHover)\n  {\n    autoplayPause = false;\n    if (store.state.autoplay) pause(false, true);\n  }\n}\nfunction onMouseEnter()\n{\n  if (store.state.preference.slides.autoplayPauseOnHover)\n  {\n    autoplayPause = true;\n    if (store.state.autoplay) pause(true, true);\n  }\n}\nfunction onContextMenu()\n{\n  state.swipePos = undefined;\n  state.swipeMove = false;\n}\nfunction runAutoplay(sw)\n{\n  if (!mounted) return;\n  if (sw && !store.state.autoplay) return;\n  if (sw && !autoplayTimer)\n  {\n    if (!store.state.autoplay) return;\n    const delay = store.state.preference.slides.autoplayDelay;\n    const dir = store.state.preference.slides.autoplayDirection;\n    const loop = store.state.preference.slides.loop;\n    const side = isActiveSide(dir);\n    if (!loop && (!loop && side)) return;\n    autoplayTimer = setTimeout(() => {\n      if (!dir) prev();\n      else next();\n    }, delay);\n  }\n  else if (autoplayTimer)\n  {\n    clearTimeout(autoplayTimer);\n    autoplayTimer = undefined;\n  }\n}\nfunction isActiveSide(dir)\n{\n  if (!(state.computedImages && state.computedImages.length > 0)) return;\n  return (!dir && store.state.activeSlide === 0) ||\n    (dir && store.state.activeSlide >= state.computedImages.length - 1);\n}\n\n// public methods\nfunction change(n, userAnimationType = undefined)\n{\n  if (state.animated || !checkActive(n) || !images.value) return;\n  onChangeActive(n);\n  runAutoplay(false);\n  images.value.play(n, userAnimationType);\n}\nfunction prev()\n{\n  if (!(state.computedImages && state.computedImages.length > 0)) return;\n  let n = number.move(\n    state.computedImages.length,\n    store.state.activeSlide - 1,\n    store.state.preference.slides.loop\n  );\n  change(n);\n}\nfunction next()\n{\n  if (!(state.computedImages && state.computedImages.length > 0)) return;\n  let n = number.move(\n    state.computedImages.length,\n    store.state.activeSlide + 1,\n    store.state.preference.slides.loop\n  );\n  change(n);\n}\nfunction autoplay(sw = undefined)\n{\n  store.dispatch('changeAutoplay', sw);\n}\nfunction pause(sw = undefined, inside = false)\n{\n  if (sw === undefined) return;\n  if (!store.state.autoplay) return;\n  if (!inside) autoplayPause = sw;\n  if (!sw || (sw && !state.animated)) runAutoplay(!sw);\n}\n\n// lifecycles\nonMounted(() => {\n  mounted = true;\n  if (store.state.autoplay) runAutoplay(true);\n});\nonUnmounted(() => {\n  mounted = false;\n  if (autoplayTimer)\n  {\n    clearTimeout(autoplayTimer);\n    autoplayTimer = undefined;\n  }\n});\n\n// watch\nwatch(() => store.state.autoplay, sw => {\n  if (sw)\n  {\n    if (!autoplayPause) runAutoplay(sw);\n  }\n  else\n  {\n    runAutoplay(sw);\n  }\n});\n\n// set expose\ndefineExpose({\n  change,\n  prev,\n  next,\n  autoplay,\n  pause,\n});\n</script>\n\n<style src=\"./index.scss\" lang=\"scss\"></style>\n","<template>\n<article class=\"empty\" @click=\"onClickWrapper\">\n  <div class=\"empty__wrap\">\n    <Icon\n      icon-name=\"frown\"\n      class=\"empty__icon\"/>\n    <h2 class=\"empty__title\">\n      {{title || t('title.emptySlide')}}\n    </h2>\n    <p class=\"empty__description\">\n      {{description || t('description.addSlides')}}\n    </p>\n  </div>\n</article>\n</template>\n\n<script setup>\nimport store from '~/store';\nimport i18n from '~/i18n';\nimport Icon from '~/components/Icon/index.vue';\n\nconst { t } = i18n.global;\nconst props = defineProps({\n  title: String,\n  description: String,\n});\n\n// methods\nfunction onClickWrapper()\n{\n  if (store.state.preference.general.clickVisibleHud)\n  {\n    store.dispatch('changeHud');\n  }\n}\n</script>\n\n<style src=\"./Empty.scss\" lang=\"scss\" scoped></style>\n","<template>\n<nav\n  class=\"slideshow-navigation\"\n  @touchstart=\"onTouchStart\"\n  @click=\"onClickWrapper\">\n  <div\n    v-if=\"computes.visibleAutoplay\"\n    class=\"slideshow-navigation__item\">\n    <button\n      type=\"button\"\n      :title=\"t('base.autoplay')\"\n      :class=\"store.state.autoplay ? 'active' : ''\"\n      @click=\"onClickAutoplayButton\">\n      <Icon icon-name=\"play-circle\"/>\n    </button>\n  </div>\n  <div\n    v-if=\"computes.visibleGroup\"\n    class=\"slideshow-navigation__item\">\n    <button\n      type=\"button\"\n      :title=\"t('base.group')\"\n      @click=\"onClickGroup\">\n      <Icon icon-name=\"folder\" class=\"folder\"/>\n    </button>\n  </div>\n  <div\n    v-if=\"store.state.preference.general.visibleHudContents.menu\"\n    class=\"slideshow-navigation__item\">\n    <button\n      type=\"button\"\n      :title=\"t('base.menu')\"\n      :class=\"state.activeMenu ? 'on' : ''\"\n      @click=\"onClickMenuButton\">\n      <Icon icon-name=\"menu\"/>\n    </button>\n    <div\n      :class=\"[\n        'slideshow-navigation-context',\n        state.activeMenu && 'slideshow-navigation-context--on',\n      ]\">\n      <ul>\n        <li>\n          <button\n            type=\"button\"\n            @click=\"onClickContextItem('preference')\">\n            {{t('base.preference')}}\n          </button>\n        </li>\n        <li v-if=\"computes.visibleThumbnail\">\n          <button\n            type=\"button\"\n            @click=\"onClickContextItem('thumbnail')\">\n            {{t('title.thumbnailView')}}\n          </button>\n        </li>\n        <li>\n          <button\n            type=\"button\"\n            :class=\"[ state.activeFullscreen && 'on' ]\"\n            @click=\"onClickContextItem('fullscreen')\">\n            {{t('base.fullscreen')}}\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav>\n</template>\n\n<script setup>\nimport { reactive, computed, onMounted, onUnmounted } from 'vue';\nimport store from '~/store';\nimport i18n from '~/i18n';\nimport * as local from '~/libs/local';\nimport * as util from '~/libs/util';\nimport Icon from '~/components/Icon/index.vue';\n\nconst { t } = i18n.global;\nlet state = reactive({\n  activeMenu: false,\n  activeFullscreen: false,\n});\nlet computes = reactive({\n  visibleThumbnail: computed(() => {\n    return store.state.slides && store.state.slides.length > 1;\n  }),\n  visibleAutoplay: computed(() => {\n    const { slides, preference } = store.state;\n    if (!preference.slides.autoplay) return false;\n    return slides && slides.length > 0;\n  }),\n  visibleGroup: computed(() => {\n    if (!store.state.preference.general.visibleHudContents.group) return false;\n    return store.state.tree && Object.keys(store.state.tree).length > 1;\n  }),\n});\n\n// private methods\nfunction onClickAutoplayButton()\n{\n  if (local.slides) local.slides.autoplay();\n}\nfunction onClickMenuButton(e)\n{\n  if (e) e.stopPropagation();\n  if (state.activeMenu)\n  {\n    switchActiveMenu(false);\n  }\n  else\n  {\n    window.on('click.navigationMenu', () => switchActiveMenu(false));\n    switchActiveMenu(true);\n  }\n}\nfunction switchActiveMenu(sw)\n{\n  state.activeMenu = sw;\n  if (!sw) window.off('click.navigationMenu');\n}\nfunction onClickContextItem(key)\n{\n  switchActiveMenu(false);\n  switch (key)\n  {\n    case 'preference':\n      store.dispatch('changeMode', 'preference');\n      break;\n    case 'thumbnail':\n      store.dispatch('changeMode', 'thumbnail');\n      break;\n    case 'fullscreen':\n      util.fullscreen(!state.activeFullscreen);\n      state.activeFullscreen = !state.activeFullscreen;\n      break;\n  }\n}\nfunction onTouchStart(e)\n{\n  if (e.touches && e.touches.length > 1) e.preventDefault();\n}\nfunction onClickWrapper(e)\n{\n  e.stopPropagation();\n}\nfunction onClickGroup()\n{\n  store.dispatch('changeMode', 'group');\n}\n\n// public methods\nfunction blur()\n{\n  switchActiveMenu(false);\n}\n\n// lifecycles\nonMounted(() => {\n  document.on('fullscreenchange.slideshow', () => {\n    state.activeFullscreen = !!document.fullscreenElement;\n  });\n});\nonUnmounted(() => {\n  document.off('fullscreenchange.slideshow');\n});\n\n// set expose\ndefineExpose({\n  blur,\n});\n</script>\n\n<style src=\"./index.scss\" lang=\"scss\" scoped></style>\n","<template>\n<aside class=\"preference-side\">\n  <nav>\n    <button\n      type=\"button\"\n      :title=\"t('base.general')\"\n      :disabled=\"props.mode === 'general'\"\n      class=\"preference-side__button\"\n      @click=\"$emit('click-menu', 'general')\">\n      <span>\n        <Icon icon-name=\"tool\"/>\n        <em>{{t('base.general')}}</em>\n      </span>\n    </button>\n    <button\n      v-if=\"store.state.usePreference.slides\"\n      type=\"button\"\n      :title=\"t('base.slides')\"\n      :disabled=\"props.mode === 'slides'\"\n      class=\"preference-side__button\"\n      @click=\"$emit('click-menu', 'slides')\">\n      <span>\n        <Icon icon-name=\"copy\"/>\n        <em>{{t('base.slides')}}</em>\n      </span>\n    </button>\n    <button\n      v-if=\"store.state.usePreference.style\"\n      type=\"button\"\n      :title=\"t('base.style')\"\n      :disabled=\"props.mode === 'style'\"\n      class=\"preference-side__button\"\n      @click=\"$emit('click-menu', 'style')\">\n      <span>\n        <Icon icon-name=\"droplet\"/>\n        <em>{{t('base.style')}}</em>\n      </span>\n    </button>\n    <button\n      v-if=\"store.state.usePreference.data\"\n      type=\"button\"\n      :title=\"t('base.data')\"\n      :disabled=\"props.mode === 'data'\"\n      class=\"preference-side__button\"\n      @click=\"$emit('click-menu', 'data')\">\n      <span>\n        <Icon icon-name=\"database\"/>\n        <em>{{t('base.data')}}</em>\n      </span>\n    </button>\n    <button\n      v-if=\"store.state.usePreference.keyboard\"\n      type=\"button\"\n      :title=\"t('base.keyboard')\"\n      :disabled=\"props.mode === 'keyboard'\"\n      class=\"preference-side__button\"\n      @click=\"$emit('click-menu', 'keyboard')\">\n      <span>\n        <Icon icon-name=\"command\"/>\n        <em>{{t('base.keyboard')}}</em>\n      </span>\n    </button>\n    <button\n      v-if=\"store.state.usePreference.information\"\n      type=\"button\"\n      :title=\"t('base.information')\"\n      :disabled=\"props.mode === 'information'\"\n      class=\"preference-side__button\"\n      @click=\"$emit('click-menu', 'information')\">\n      <span>\n        <Icon icon-name=\"info\"/>\n        <em>{{t('base.information')}}</em>\n      </span>\n    </button>\n  </nav>\n</aside>\n</template>\n\n<script setup>\nimport store from '~/store';\nimport i18n from '~/i18n';\nimport Icon from '~/components/Icon/index.vue';\n\nconst props = defineProps({\n  mode: { type: String, required: true },\n});\nconst { t } = i18n.global;\n</script>\n\n<style src=\"./Side.scss\" lang=\"scss\" scoped></style>\n","<template>\n<article\n  class=\"preference\"\n  @click=\"onClose\"\n  @touchstart=\"onTouchStart\">\n  <div class=\"preference__wrap\" @click=\"e => { e.stopPropagation() }\">\n    <Side :mode=\"state.tab\" @click-menu=\"onChangeTab\"/>\n    <form class=\"preference__body\" @submit=\"onSubmit\">\n      <header class=\"preference-header\">\n        <div class=\"preference-header__body\">\n          <h2>{{state.computedHeaderContent.title}}</h2>\n          <p>{{state.computedHeaderContent.description}}</p>\n        </div>\n        <nav class=\"preference-header__nav\">\n          <button\n            type=\"submit\"\n            :title=\"t('base.apply')\"\n            @click=\"onSubmit\">\n            <Icon icon-name=\"check\"/>\n          </button>\n          <button\n            type=\"button\"\n            :title=\"t('base.close')\"\n            @click=\"onClose\">\n            <Icon icon-name=\"x\"/>\n          </button>\n        </nav>\n      </header>\n      <div ref=\"content\" class=\"preference__content\">\n        <component\n          :is=\"state.computedContentComponent\"\n          :structure=\"state.structure[state.tab]\"\n          @update=\"onUpdateFields\"/>\n      </div>\n    </form>\n  </div>\n</article>\n</template>\n\n<script setup>\nimport { defineAsyncComponent, reactive, computed, onMounted, onUnmounted, watch, ref } from 'vue';\nimport store from '~/store';\nimport i18n from '~/i18n';\nimport { convertPureObject, checkPreference, checkTree } from '~/libs/object';\nimport * as local from '~/libs/local';\nimport Icon from '~/components/Icon/index.vue';\nimport Side from './Side.vue';\n\nconst { t } = i18n.global;\nconst preference = convertPureObject(store.state.preference);\nconst tree = convertPureObject(store.state.tree);\nlet state = reactive({\n  tab: 'general', // general,slides,style,data,keyboard,information\n  structure: {\n    general: preference.general,\n    slides: preference.slides,\n    style: preference.style,\n    data: { tree },\n    keyboard: preference.keyboard,\n  },\n  computedContentComponent: computed(() => {\n    switch (state.tab)\n    {\n      case 'general':\n      default:\n        return defineAsyncComponent(() => import('./General.vue'));\n      case 'slides':\n        if (!store.state.usePreference.slides) return;\n        return defineAsyncComponent(() => import('./Slides.vue'));\n      case 'style':\n        if (!store.state.usePreference.style) return;\n        return defineAsyncComponent(() => import('./Style.vue'));\n      case 'data':\n        if (!store.state.usePreference.data) return;\n        return defineAsyncComponent(() => import('./Data/index.vue'));\n      case 'keyboard':\n        if (!store.state.usePreference.keyboard) return;\n        return defineAsyncComponent(() => import('./Keyboard.vue'));\n      case 'information':\n        if (!store.state.usePreference.information) return;\n        return defineAsyncComponent(() => import('./Information.vue'));\n    }\n  }),\n  computedHeaderContent: computed(() => {\n    switch (state.tab)\n    {\n      case 'general':\n      default:\n        return {\n          title: t('base.general'),\n          description: t('preference.header.general'),\n        };\n      case 'slides':\n        return {\n          title: t('base.slides'),\n          description: t('preference.header.slides'),\n        }\n      case 'style':\n        return {\n          title: t('base.style'),\n          description: t('preference.header.style'),\n        };\n      case 'data':\n        return {\n          title: t('base.data'),\n          description: t('preference.header.data'),\n        };\n      case 'keyboard':\n        return {\n          title: t('base.keyboard'),\n          description: t('preference.header.keyboard'),\n        };\n      case 'information':\n        return {\n          title: t('base.information'),\n          description: t('preference.header.information'),\n        };\n    }\n  }),\n});\nconst content = ref(null);\n\n// methods\nfunction onTouchStart(e)\n{\n  if (e.touches && e.touches.length > 1) e.preventDefault();\n}\nfunction onClose()\n{\n  store.dispatch('changeMode', null);\n}\nfunction onChangeTab(name)\n{\n  state.tab = name;\n}\nfunction onUpdateFields(structure)\n{\n  state.structure[state.tab] = structure;\n}\nfunction onSubmit(e)\n{\n  e.preventDefault();\n  if (!confirm(t('confirm.applyRestart'))) return;\n  try\n  {\n    let tree = convertPureObject(state.structure.data.tree);\n    checkTree(tree);\n    let preference = {\n      general: convertPureObject(state.structure.general),\n      slides: convertPureObject(state.structure.slides),\n      style: convertPureObject(state.structure.style),\n      keyboard: convertPureObject(state.structure.keyboard),\n    };\n    if (!checkPreference(preference)) throw new Error('Bad preference data.');\n\n    // update store\n    store.dispatch('changePreference', preference);\n    store.dispatch('changeMode', null);\n    store.dispatch('changeActiveSlide', store.state.preference.slides.initialNumber);\n    store.dispatch('changeAutoplay', false);\n    store.commit('updateUseKeyboardEvent', true);\n    store.dispatch('changeTree', tree);\n    // check and update group\n    if (!Object.keys(tree).filter(key => (key === store.state.group)).length)\n    {\n      store.dispatch('changeGroup', Object.keys(tree)[0]);\n    }\n\n    // update or restart\n    if (local.useProps.preference || local.useProps.tree)\n    {\n      local.main.update('preference');\n      local.main.update('tree');\n    }\n    else\n    {\n      local.main.restart().then();\n    }\n  }\n  catch(e)\n  {\n    if (window.dev) console.error(e.message);\n    alert(t('alert.failedApply'));\n  }\n}\n\n// lifecycles\nonMounted(() => {\n  if (local.slides) local.slides.pause(true);\n});\nonUnmounted(() => {\n  if (local.slides) local.slides.pause(false);\n});\n\n// watch\nwatch(() => state.tab, () => content.value.scrollTo(0, 0));\n</script>\n\n<style src=\"./index.scss\" lang=\"scss\" scoped></style>\n","<template>\n<div :class=\"[\n  'group-item',\n  selected && 'group-item--selected'\n]\">\n  <a\n    :class=\"[\n      'group-item-wrap',\n      selected && 'group-item-wrap--selected',\n    ]\"\n    @click=\"onSelectItem\">\n    <figure class=\"group-item__image\">\n      <img v-if=\"src\" :src=\"src\" :alt=\"name\">\n      <Icon v-else icon-name=\"x\"/>\n    </figure>\n    <div class=\"group-item__body\">\n      <h3 :class=\"[ !name && 'none' ]\">\n        {{ name ? name : 'None' }}\n      </h3>\n      <p>{{description}}</p>\n      <ul v-if=\"count !== undefined\" class=\"group-item__meta\">\n        <li><b>Count: {{count}}</b></li>\n      </ul>\n    </div>\n  </a>\n</div>\n</template>\n\n<script setup>\nimport Icon from '~/components/Icon/index.vue';\n\nconst name = 'GroupItem';\nconst props = defineProps({\n  src: String,\n  name: String,\n  description: String,\n  count: Number,\n  selected: Boolean,\n});\nconst emits = defineEmits([ 'select' ]);\n\nfunction onSelectItem(e)\n{\n  e.preventDefault();\n  emits('select');\n}\n</script>\n\n<style src=\"./Item.scss\" lang=\"scss\" scoped></style>\n","<template>\n<article class=\"groups\" @touchstart=\"onTouchStart\" @click=\"onClose\">\n  <div class=\"groups__wrap\" @click=\"e => { e.stopPropagation() }\">\n    <header class=\"groups-header\">\n      <div class=\"groups-header__body\">\n        <h2>{{t('title.selectGroup')}}</h2>\n        <p>{{t('description.selectGroup')}}</p>\n      </div>\n      <nav class=\"groups-header__nav\">\n        <button\n          type=\"button\"\n          :title=\"t('base.close')\"\n          @click=\"onClose\">\n          <Icon icon-name=\"x\"/>\n        </button>\n      </nav>\n    </header>\n    <div class=\"groups__body\">\n      <ul class=\"groups-index\">\n        <li v-for=\"item in computes.index\">\n          <Item\n            :key=\"item.key\"\n            :src=\"item.src\"\n            :name=\"item.name\"\n            :description=\"item.description\"\n            :count=\"item.count\"\n            :selected=\"item.selected\"\n            @select=\"onSelectSlide(item.key)\"/>\n        </li>\n      </ul>\n    </div>\n  </div>\n</article>\n</template>\n\n<script setup>\nimport { reactive, computed, onMounted, onUnmounted } from 'vue';\nimport store from '~/store';\nimport i18n from '~/i18n';\nimport * as local from '~/libs/local';\nimport Icon from '~/components/Icon/index.vue';\nimport Item from './Item.vue';\n\nconst { t } = i18n.global;\nlet computes = reactive({\n  index: computed(() => {\n    const { tree, group } = store.state;\n    return Object.keys(tree).map(key => {\n      switch (typeof tree[key])\n      {\n        case 'object':\n          const slide = tree[key].slides;\n          if (!slide) return false;\n          const firstSlide = (slide && slide.length > 0) ? slide[0] : null;\n          let src = firstSlide ? (firstSlide.thumbnail || firstSlide.src) : null;\n          return {\n            key,\n            name: tree[key].name,\n            description: tree[key].description,\n            count: Array.isArray(tree[key].slides) ? tree[key].slides.length : undefined,\n            src,\n            selected: key === group,\n          };\n        default:\n          return false;\n      }\n    }).filter(Boolean);\n  }),\n});\n\n// methods\nfunction onTouchStart(e)\n{\n  if (e.touches && e.touches.length > 1) e.preventDefault();\n}\nfunction onClose()\n{\n  store.dispatch('changeMode', null);\n}\nfunction onSelectSlide(key)\n{\n  if (!confirm(t('confirm.selectGroup'))) return;\n  store.dispatch('changeGroup', key);\n  store.dispatch('changeMode', null);\n  local.main.update('group');\n  local.main.restart();\n}\n\n// lifecycles\nonMounted(() => {\n  if (local.slides) local.slides.pause(true);\n});\nonUnmounted(() => {\n  if (local.slides) local.slides.pause(false);\n});\n</script>\n\n<style src=\"./index.scss\" lang=\"scss\" scoped></style>\n","<template>\n<article class=\"thumbnail\" @touchstart=\"onTouchStart\">\n  <header v-if=\"computes.title\" class=\"thumbnail__header\">\n    <h2>{{computes.title}}</h2>\n    <p v-if=\"computes.description\">{{computes.description}}</p>\n  </header>\n  <div class=\"thumbnail__body\">\n    <ul\n      v-if=\"computes.index && computes.index.length > 0\"\n      class=\"thumbnail__index\">\n      <li v-for=\"(o,k) in computes.index\">\n        <button\n          type=\"button\"\n          :disabled=\"k === store.state.activeSlide\"\n          @click=\"onSelect(k)\">\n          <img :src=\"o.thumbnail\" :alt=\"o.title\">\n        </button>\n      </li>\n    </ul>\n    <div v-else class=\"thumbnail__empty\">\n      <Icon icon-name=\"frown\"/>\n      <p>{{t('thumbnail.empty')}}</p>\n    </div>\n  </div>\n  <ButtonClose\n    :title=\"t('base.close')\"\n    class=\"thumbnail__close\"\n    @click=\"onClose\"/>\n</article>\n</template>\n\n<script setup>\nimport { reactive, computed, onMounted, onUnmounted } from 'vue';\nimport store from '~/store';\nimport i18n from '~/i18n';\nimport * as local from '~/libs/local';\nimport ButtonClose from '~/components/Button/Close.vue';\nimport Icon from '~/components/Icon/index.vue';\n\nconst { t } = i18n.global;\nlet computes = reactive({\n  index: computed(() => {\n    return store.state.slides.map(o => ({\n      ...o,\n      thumbnail: o.thumbnail || o.src,\n    }));\n  }),\n  title: computed(() => {\n    return store.state.tree[store.state.group].name;\n  }),\n  description: computed(() => {\n    return store.state.tree[store.state.group].description;\n  }),\n});\n\n// methods\nfunction onSelect(n)\n{\n  if (local.slides) local.slides.change(n, 'none');\n  store.dispatch('changeMode', null);\n}\nfunction onClose()\n{\n  store.dispatch('changeMode', null);\n}\nfunction onTouchStart(e)\n{\n  if (e.touches && e.touches.length > 1) e.preventDefault();\n}\n\n// lifecycles\nonMounted(() => {\n  if (local.slides) local.slides.pause(true);\n});\nonUnmounted(() => {\n  if (local.slides) local.slides.pause(false);\n});\n</script>\n\n<style src=\"./index.scss\" lang=\"scss\" scoped></style>\n","<template>\n<div\n  :class=\"[\n    'slideshow',\n    store.state.preference.general.hoverVisibleHud && 'slideshow--hover',\n  ]\">\n  <Slides\n    v-if=\"computes.existSlides\"\n    ref=\"slides\"\n    class=\"slideshow__slides\"/>\n  <SlidesEmpty\n    v-else\n    :title=\"computes.emptyTitle\"\n    :description=\"computes.emptyDescription\"/>\n  <Navigation\n    v-if=\"store.state.preference.general.hud\"\n    ref=\"navigation\"\n    class=\"slideshow__navigation\"/>\n  <teleport to=\"#slideshowModal\">\n    <Group v-if=\"computes.showGroup\"/>\n    <Thumbnail v-if=\"computes.showThumbnail\"/>\n    <Preference v-if=\"computes.showPreference\"/>\n  </teleport>\n</div>\n</template>\n\n<script setup>\nimport { reactive, computed, ref, onMounted, onUnmounted } from 'vue';\nimport i18n from '~/i18n';\nimport store from '~/store';\nimport * as local from '~/libs/local';\nimport Slides from '~/components/Slides/index.vue';\nimport SlidesEmpty from '~/components/Slides/Empty.vue';\nimport Navigation from '~/screen/Navigation/index.vue';\nimport Preference from '~/screen/Preference/index.vue';\nimport Group from '~/screen/Group/index.vue';\nimport Thumbnail from '~/screen/Thumbnail/index.vue';\n\nconst name = 'Container';\nconst props = defineProps({ error: Object });\nconst { t } = i18n.global;\nconst slides = ref(null);\nconst navigation = ref(null);\nlet computes = reactive({\n  mode: computed(() => {\n    switch (store.state.mode)\n    {\n      case 'preference':\n      case 'group':\n      case 'thumbnail':\n        return store.state.mode;\n      default:\n        return null;\n    }\n  }),\n  existSlides: computed(() => {\n    return store.state.slides && store.state.slides.length > 0;\n  }),\n  showThumbnail: computed(() => (computes.mode === 'thumbnail')),\n  showPreference: computed(() => (computes.mode === 'preference')),\n  showGroup: computed(() => (computes.mode === 'group')),\n  emptyTitle: computed(() => {\n    return props.error ? props.error.title : undefined;\n  }),\n  emptyDescription: computed(() => {\n    return props.error ? props.error.description : undefined;\n  }),\n});\nlet keys = [];\n\n// methods\nfunction onKeyup(e)\n{\n  if (!store.state.keyboardEvent) return;\n  if (keys.length > 1)\n  {\n    const idx = keys.indexOf(e.keyCode);\n    if (idx > -1) keys.splice(idx);\n    return;\n  }\n  if (navigation.value) navigation.value.blur();\n  if (computes.mode)\n  {\n    switch (e.keyCode)\n    {\n      case 27: // esc\n        store.dispatch('changeMode', null);\n        break;\n    }\n  }\n  else\n  {\n    switch (e.keyCode)\n    {\n      case 37: // arrow left\n        if (local.slides) local.slides.prev();\n        break;\n      case 39: // arrow right\n        if (local.slides) local.slides.next();\n        break;\n      case 65: // a\n        if (local.slides && store.state.preference.slides.autoplay)\n        {\n          local.slides.autoplay();\n        }\n        break;\n      case 83: // s\n        store.dispatch('changeMode', 'preference');\n        break;\n      case 84: // t\n        store.dispatch('changeMode', 'thumbnail');\n        break;\n      case 82: // r\n        if (confirm(t('confirm.restart')) && local.main)\n        {\n          local.main.restart().then();\n        }\n        break;\n      case 71: // g\n        if (store.state.tree && Object.keys(store.state.tree).length > 1)\n        {\n          store.dispatch('changeMode', 'group');\n        }\n        break;\n      case 72: // h\n        store.dispatch('changeHud');\n        break;\n    }\n  }\n  keys = [];\n}\nfunction onKeydown(e)\n{\n  if (!store.state.keyboardEvent) return;\n  if (keys.indexOf(e.keyCode) > -1) return;\n  keys.push(e.keyCode);\n}\n\n// lifecycles\nonMounted(() => {\n  // setup slides\n  local.setupSlides(slides.value);\n  // on keyboard event\n  if (store.state.preference.keyboard.enabled)\n  {\n    window.on('keyup.slideshow-keyboard', onKeyup);\n    window.on('keydown.slideshow-keyboard', onKeydown);\n  }\n  else\n  {\n    window.off('keyup.slideshow-keyboard');\n    window.off('keydown.slideshow-keyboard');\n  }\n});\nonUnmounted(() => {\n  // off keyboard event\n  if (store.state.preference.keyboard.enabled)\n  {\n    window.off('keyup.slideshow-keyboard');\n    window.off('keydown.slideshow-keyboard');\n  }\n});\n</script>\n\n<style src=\"./Container.scss\" lang=\"scss\" scoped></style>\n","<template>\n<div class=\"loading-intro loading-intro--move\">\n  <template v-if=\"state.show\">\n    <LoadingUnit class=\"unit\"/>\n    <strong>{{t('title.loading')}}</strong>\n  </template>\n</div>\n</template>\n\n<script setup>\nimport { reactive, onMounted, onUnmounted } from 'vue';\nimport i18n from '~/i18n';\nimport * as util from '~/libs/util';\nimport LoadingUnit from './Unit.vue';\n\nconst { t } = i18n.global;\nlet state = reactive({ show: false });\nlet mounted = false;\n\n// lifecycles\nonMounted(() => {\n  mounted = true;\n  util.sleep(50).then(() => {\n    if (mounted) state.show = true;\n  });\n});\nonUnmounted(() => {\n  mounted = false;\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@use '../../assets/scss/mixins';\n.loading-intro {\n  --loading-size: 50px;\n  --loading-speed: 500ms;\n  width: 100vw;\n  @include mixins.full-height();\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  user-select: none;\n  strong {\n    display: block;\n    margin: 42px 0 0;\n    font-size: 20px;\n    font-weight: 200;\n  }\n  &--move {\n    .unit {\n      animation: loader 5000ms linear infinite;\n      @keyframes loader {\n        0% { left: -28vw; }\n        100% { left: 28vw; }\n      }\n    }\n  }\n  @include mixins.responsive(desktop) {\n    strong {\n      margin: 48px 0 0;\n      font-size: 24px;\n    }\n    &--move {\n      .unit {\n        @keyframes loader {\n          0% { left: -12vw; }\n          100% { left: 12vw; }\n        }\n      }\n    }\n  }\n}\n</style>\n","<template>\n<LoadingIntro v-if=\"state.loading\"/>\n<Container v-else :error=\"state.error\"/>\n</template>\n\n<script setup>\nimport { reactive, onMounted, watch, getCurrentInstance } from 'vue';\nimport store from '../store';\nimport i18n from '../i18n';\nimport * as storage from '../libs/storage';\nimport * as local from '../libs/local';\nimport { getApiData, sleep, initCustomEvent } from '../libs/util';\nimport { convertPureObject, checkPreference, checkSlideItems } from '../libs/object';\nimport Container from './Container.vue';\nimport LoadingIntro from '../components/Loading/Intro.vue';\n\n// set dev\nif (window) window.dev = process.env.NODE_ENV === 'development';\n\nconst name = 'Slideshow';\nconst props = defineProps({\n  preference: Object,\n  group: String,\n  tree: [ Object, Array ],\n});\nconst emits = defineEmits([ 'update-preference', 'update-tree', 'update-group' ]);\nconst { locale } = i18n.global;\nlet state = reactive({\n  dev: process.env.NODE_ENV === 'development',\n  loading: true,\n  error: undefined,\n});\nlet restarting = false;\n\n// private methods\nfunction updateTheme(color)\n{\n  let theme;\n  switch(color)\n  {\n    case 'light':\n    case 'dark':\n      theme = color;\n      break;\n    default:\n      theme = 'system';\n      break;\n  }\n  const $html = document.querySelector('html');\n  $html.dataset['color'] = theme;\n}\nfunction error(sw)\n{\n  if (sw)\n  {\n    state.error = {\n      title: 'Error slides',\n      description: '슬라이드를 가져오는데 오류가 발생했습니다.',\n    }\n  }\n  else\n  {\n    state.error = undefined;\n  }\n}\nfunction fetchPreference()\n{\n  if (props.preference)\n  {\n    storage.disabled('preference');\n    if (checkPreference(props.preference))\n    {\n      let preference = convertPureObject(props.preference);\n      store.dispatch('changePreference', preference);\n      store.dispatch('changeActiveSlide', preference.slides.initialNumber);\n    }\n  }\n  else\n  {\n    const storagePreference = storage.get('preference') || local.baseOptions.preference;\n    if (storagePreference && checkPreference(storagePreference))\n    {\n      store.dispatch('changePreference', storagePreference);\n      store.dispatch('changeActiveSlide', storagePreference.slides.initialNumber);\n    }\n    else\n    {\n      storage.set('preference', convertPureObject(store.state.preference));\n    }\n  }\n}\nfunction fetchGroup()\n{\n  let group;\n  if (props.group)\n  {\n    storage.disabled('group');\n    group = props.group;\n  }\n  else\n  {\n    let storageGroup = storage.get('group');\n    group = storageGroup || 'default';\n  }\n  store.dispatch('changeGroup', group);\n}\nfunction fetchTree()\n{\n  try\n  {\n    let tree;\n    if (props.tree)\n    {\n      storage.disabled('tree');\n      tree = props.tree;\n    }\n    else\n    {\n      const storageSlides = storage.get('tree');\n      tree = !!storageSlides ? storageSlides : local.baseOptions.tree;\n    }\n    if (Array.isArray(tree))\n    {\n      tree = {\n        default: { slides: tree },\n      };\n    }\n    store.dispatch('changeTree', tree);\n    error(false);\n  }\n  catch(e)\n  {\n    if (window.dev) console.error(e.message);\n    error(true);\n  }\n}\nasync function fetchSlides()\n{\n  try\n  {\n    const { group, tree } = store.state;\n    let slides = tree[group] ? tree[group].slides : [];\n    if (slides && typeof slides === 'string')\n    {\n      let getSlides = await getApiData(slides);\n      checkSlideItems(getSlides);\n      slides = getSlides;\n    }\n    else if (!(slides && Array.isArray(slides)))\n    {\n      slides = null;\n    }\n    store.dispatch('changeSlides', slides);\n    error(false);\n  }\n  catch(e)\n  {\n    if (window.dev) console.error(e.message);\n    store.dispatch('changeSlides', null);\n    error(true);\n  }\n}\n\n// public methods\nfunction start()\n{\n  sleep(60).then(() => {\n    state.loading = false;\n  });\n}\nfunction stop()\n{\n  state.loading = true;\n}\nasync function restart()\n{\n  if (restarting) return;\n  restarting = true;\n  stop();\n  updateTheme(store.state.preference.style.screenColor);\n  locale.value = store.state.preference.general.language;\n  await fetchSlides();\n  await sleep(800);\n  start();\n  restarting = false;\n}\nfunction update(type)\n{\n  switch (type)\n  {\n    case 'preference':\n      emits('update-preference', convertPureObject(store.state.preference));\n      break;\n    case 'tree':\n      emits('update-tree', convertPureObject(store.state.tree));\n      break;\n    case 'group':\n      emits('update-group', store.state.group);\n      break;\n  }\n}\n\n// lifecycles\nonMounted(() => {\n  // setup in local\n  const app = getCurrentInstance();\n  local.setup(app.exposed, {\n    preference: !!props.preference,\n    tree: !!props.tree,\n    group: !!props.group,\n  });\n  fetchTree();\n  fetchGroup();\n  fetchSlides().then(() => start());\n});\n\n// watch\nwatch(() => props.preference, () => {\n  fetchPreference();\n  restart().then();\n});\nwatch(() => props.tree, () => {\n  fetchTree();\n  restart().then();\n});\nwatch(() => props.group, () => {\n  fetchGroup();\n  restart().then();\n});\n\n// actions\ninitCustomEvent();\nfetchPreference();\nupdateTheme(store.state.preference.style.screenColor);\nlocale.value = store.state.preference.general.language;\n\n// set expose\ndefineExpose({\n  start,\n  stop,\n  restart,\n  update,\n})\n</script>\n"],"names":["convertPureObject","object.convertPureObject","storage.set","object.checkSlideItems","util.setAreaTrue","util.sleep","number.move","local.slides","util.fullscreen","local.useProps","local.main","slides","local.setupSlides","storage.disabled","storage.get","local.baseOptions","local.setup"],"mappings":"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"}